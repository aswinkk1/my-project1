"use strict";var KardApp=angular.module("kard",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","ngDialog","ezfb","ngStorage","angucomplete-alt","kard.tmpls","ngTinyScrollbar","focus-if"]).constant("BASE_URL","http://52.4.105.247/kard/").config(["$stateProvider","$urlRouterProvider",function(e,a){e.state("home",{url:"/home",views:{content:{templateUrl:"app/main/main.html",controller:"MainController"}}}).state("home-ext",{url:"/home-ext?from&data",views:{content:{controller:["$state","$stateParams","loginService","$localStorage","$rootScope",function(e,a,t,r){r.$reset(),r.userInfo=a.data,r.session_key=a.data,e.go("home")}]}}}).state("signup",{url:"/signup",views:{content:{templateUrl:"app/signup/signup.html",controller:"SignupController"}}}).state("signup-ext",{url:"/signup-ext",views:{content:{controller:["$state","loginService","$rootScope",function(e,a,t){a.logout(),t.ActiveSession=!1,e.go("signup")}]}}}).state("login",{url:"/login",views:{content:{templateUrl:"app/login/login.html",controller:"LoginController",resolve:{auth:["$q","loginService","$state",function(e,a,t){var r=a.getUserInfo();console.log(r),r&&t.go("home")}]}}}}).state("forgot-password",{url:"/forgot-password",views:{content:{templateUrl:"app/forgot-password/forgot-password.html",controller:"forgotPasswordController",resolve:{auth:["$q","loginService","$state",function(e,a,t){var r=a.getUserInfo();console.log(r),r&&t.go("home")}]}}}}).state("forgot-password-ext",{url:"/forgot-password-ext",views:{content:{controller:["$state","loginService","$rootScope",function(e,a,t){a.logout().then(function(){t.ActiveSession=!1,console.log("going to forgot-password state"),e.go("forgot-password")})}]}}}).state("reset-password",{url:"/reset-password/:token",views:{content:{templateUrl:"app/reset-password/reset-password.html",controller:"resetPasswordController"}}}).state("logout",{url:"/logout",views:{content:{controller:["$state","loginService","$rootScope",function(e,a,t){a.logout(),t.ActiveSession=!1,e.go("home")}],data:{requireLogin:!1}}}}).state("profile",{url:"/profile",views:{content:{templateUrl:"app/profile/profile.html",controller:"MyProfileController",resolve:{auth:["$q","loginService","$state",function(e,a,t){var r=a.getUserInfo();return r?e.when(r):(t.go("home"),e.reject({authenticated:!1}))}]}}}}).state("profile.my-profile",{url:"/my-profile",templateUrl:"app/profile/my-profile/my-profile.html",controller:"MyProfileController"}).state("profile.edit-profile",{url:"/edit-profile",templateUrl:"app/profile/my-profile/edit-profile.html",controller:"MyProfileController"}).state("profile.change-password",{url:"/change-password",templateUrl:"app/profile/change-password.html",controller:"MyProfileController"}).state("kard-calculator",{url:"/kard-calculator",views:{content:{templateUrl:"app/kard-calculator/kard-calculator.html",controller:"KardCalculatorController",resolve:{auth:["$q","loginService","$state",function(e,a,t){var r=a.getUserInfo();return r?e.when(r):(t.go("home"),e.reject({authenticated:!1}))}]}}}}).state("kard-wallet",{url:"/kard-wallet",views:{content:{templateUrl:"app/kard-wallet/kard-wallet.html",controller:"KardWalletController",resolve:{auth:["$q","loginService","$state",function(e,a,t){var r=a.getUserInfo();return console.log(r),r?e.when(r):(t.go("home"),e.reject({authenticated:!1}))}]}}}}).state("detail",{url:"/detail/:id",views:{content:{templateUrl:"app/kard-detail/kard-detail.html",controller:"KardDetailController",resolve:{auth:["$q","loginService","$state",function(e,a,t){var r=a.getUserInfo();return r?e.when(r):(t.go("home"),e.reject({authenticated:!1}))}]}}}}).state("kard-cat-select",{url:"/kard-cat-select",views:{content:{templateUrl:"app/kard-cat-select/kard-cat-select.html",controller:"KardCatSelectController",resolve:{auth:["$q","loginService","$state",function(e,a,t){var r=a.getUserInfo();return console.log(r),r?e.when(r):(t.go("home"),e.reject({authenticated:!1}))}]}}}}).state("kards-list",{url:"/kards-list/:kardType",views:{content:{templateUrl:"app/kards-list/kards-list.html",controller:"ListKardsController",resolve:{auth:["$q","loginService","$state",function(e,a,t){var r=a.getUserInfo();return r?e.when(r):(t.go("home"),e.reject({authenticated:!1}))}]}}}}).state("kard-app-download",{url:"/kard-app-download",views:{content:{templateUrl:"app/kard-app-download/kard-app-download.html",controller:"KardAppDownloadController"}}}),a.otherwise("/home")}]).controller("BaseController",["$window","$state",function(e){angular.element(e).bind("orientationchange",function(){})}]);angular.module("kard.tmpls",[]).run(["$templateCache",function(e){e.put("angular-hovercard.tmpl",'<div class=angular-hovercard ng-mouseenter="showCard = true; onHoverIn()" ng-mouseleave="showCard = false; onHoverOut()"><label class=angular-hovercard-label ng-class="{ \'angular-hovercard-active\': showCard }" ng-style=hoverLabelStyle ng-transclude=""></label><div class=angular-hovercard-detail ng-class="{ \'angular-hovercard-active\': showCard }" ng-include=hoverTmplUrl ng-style=hoverCardStyle></div></div>')}]),KardApp.run(["$http","$localStorage","$rootScope","$location","$state",function(e,a,t,r,s){e.defaults.headers.common.Authorization="session-key="+a.session_key,t.$on("$stateChangeSuccess",function(e){e.authenticated===!1&&(s.go("home"),s.reload())}),t.$on("$locationChangeStart",function(){})}]),angular.module("kard").service("MyProfileService",["$http","$q","$rootScope","BASE_URL","$localStorage",function(e,a,t,r,s){function n(){var t=a.defer(),n=r+"profile-info/",i={"session-key":s.session_key};return e({method:"GET",url:n,headers:i}).success(function(e){t.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),t.promise}function i(t){var n=a.defer(),i=r+"edit-profile/",o={first_name:t.first_name,last_name:t.last_name,gender:t.genderVal,age:t.ageVal},l={"session-key":s.session_key};return e({method:"POST",url:i,data:o,headers:l}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}function o(t){var n=a.defer(),i=r+"change-password/",o={old_password:t.current_pwd,new_password:t.password1};console.log(t.password1.length),console.log(o);var l={"session-key":s.session_key};return e({method:"POST",url:i,data:o,headers:l}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}return{getProfileDetails:n,updateProfileDetails:i,changePassword:o}}]),angular.module("kard").controller("MyProfileController",["$scope","MyProfileService","$rootScope","userService","$state","ngDialog","$localStorage","$timeout",function(e,a,t,r,s,n,i,o){e.apiWait=!0,e.isFocused=!0,t.$on("$stateChangeStart",function(a,t){e.currentState=t.name}),e.currentState=s.current.name,e.userName=i.user_name,i.session_key&&r.getUser(i.session_key).then(function(a){i.user_name=a.data.first_name,e.userName=a.data.first_name}),i.session_key&&(e.loggedIn=!0,t.ActiveSession=!0),e.showChangePasswordApiWait=!0,e.showChangePassword=!1,a.getProfileDetails().then(function(a){e.data=a.data,a.data.change_password&&(e.showChangePasswordApiWait=!1,e.showChangePassword=!0),e.profileData=a.data,e.profileData.genderVal="Male"==e.profileData.gender?"1":"0","< 20"===e.profileData.age?e.profileData.ageVal="0":"20-25"===e.profileData.age?e.profileData.ageVal="1":"25-30"===e.profileData.age?e.profileData.ageVal="2":"30-35"===e.profileData.age?e.profileData.ageVal="3":"35+"===e.profileData.age&&(e.profileData.ageVal="4"),o(function(){e.apiWait=!1},200)}),e.updateProfile=function(){e.apiWait=!0,a.updateProfileDetails(e.profileData).then(function(a){e.apiWait=!1,i.user_name=e.profileData.first_name,e.ngDialogMessage=a.data.message,n.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){e.editProfileForm.$setPristine(),e.apiWait=!1}}),window.setTimeout(function(){n.closeAll()},4e3)})},e.changePassword=function(){e.loginError=!1,e.apiWait=!0,a.changePassword(e.changePwdData).then(function(a){e.apiWait=!1,1==a.status?(e.ngDialogMessage=a.data.message,n.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){s.go("profile.my-profile"),s.reload()}}),window.setTimeout(function(){n.closeAll()},4e3)):(e.changePasswordForm.$setPristine(),e.loginError=!0,e.message=a.data.error_message)})}}]),/**
 * Swiper 3.0.8
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * 
 * http://www.idangero.us/swiper/
 * 
 * Copyright 2015, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 * 
 * Licensed under MIT
 * 
 * Released on: June 14, 2015
 */
function(){function e(e){e.fn.swiper=function(t){var r;return e(this).each(function(){var e=new a(this,t);r||(r=e)}),r}}var a=function(e,r){function s(){return"horizontal"===f.params.direction}function n(){f.autoplayTimeoutId=setTimeout(function(){f.params.loop?(f.fixLoop(),f._slideNext()):f.isEnd?r.autoplayStopOnLast?f.stopAutoplay():f._slideTo(0):f._slideNext()},f.params.autoplay)}function i(e,a){var t=v(e.target);if(!t.is(a))if("string"==typeof a)t=t.parents(a);else if(a.nodeType){var r;return t.parents().each(function(e,t){t===a&&(r=a)}),r?a:void 0}return 0===t.length?void 0:t[0]}function o(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,r=new t(function(e){e.forEach(function(e){f.onResize(!0),f.emit("onObserverUpdate",f,e)})});r.observe(e,{attributes:"undefined"==typeof a.attributes?!0:a.attributes,childList:"undefined"==typeof a.childList?!0:a.childList,characterData:"undefined"==typeof a.characterData?!0:a.characterData}),f.observers.push(r)}function l(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!f.params.allowSwipeToNext&&(s()&&39===a||!s()&&40===a))return!1;if(!f.params.allowSwipeToPrev&&(s()&&37===a||!s()&&38===a))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(f.container.parents(".swiper-slide").length>0&&0===f.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},n=window.innerWidth,i=window.innerHeight,o=f.container.offset();f.rtl&&(o.left=o.left-f.container[0].scrollLeft);for(var l=[[o.left,o.top],[o.left+f.width,o.top],[o.left,o.top+f.height],[o.left+f.width,o.top+f.height]],d=0;d<l.length;d++){var c=l[d];c[0]>=r.left&&c[0]<=r.left+n&&c[1]>=r.top&&c[1]<=r.top+i&&(t=!0)}if(!t)return}s()?((37===a||39===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!f.rtl||37===a&&f.rtl)&&f.slideNext(),(37===a&&!f.rtl||39===a&&f.rtl)&&f.slidePrev()):((38===a||40===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&f.slideNext(),38===a&&f.slidePrev())}}function d(e){e.originalEvent&&(e=e.originalEvent);var a=f.mousewheel.event,t=0;if(e.detail)t=-e.detail;else if("mousewheel"===a)if(f.params.mousewheelForceToAxis)if(s()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;t=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;t=e.wheelDeltaY}else t=e.wheelDelta;else if("DOMMouseScroll"===a)t=-e.detail;else if("wheel"===a)if(f.params.mousewheelForceToAxis)if(s()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;t=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;t=-e.deltaY}else t=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(f.params.mousewheelInvert&&(t=-t),f.params.freeMode){Math.abs(t)<50&&(t>0?t+=80:t-=80);var r=f.getWrapperTranslate()+t;if(r>0&&(r=0),r<f.maxTranslate()&&(r=f.maxTranslate()),f.setWrapperTransition(0),f.setWrapperTranslate(r),f.updateProgress(),f.updateActiveIndex(),f.params.freeModeSticky&&(clearTimeout(f.mousewheel.timeout),f.mousewheel.timeout=setTimeout(function(){f.slideReset()},300)),0===r||r===f.maxTranslate())return}else{if((new window.Date).getTime()-f.mousewheel.lastScrollTime>60)if(0>t)if(f.isEnd){if(f.params.mousewheelReleaseOnEdges)return!0}else f.slideNext();else if(f.isBeginning){if(f.params.mousewheelReleaseOnEdges)return!0}else f.slidePrev();f.mousewheel.lastScrollTime=(new window.Date).getTime()}return f.params.autoplay&&f.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function c(e,a){e=v(e);var t,r,n;t=e.attr("data-swiper-parallax")||"0",r=e.attr("data-swiper-parallax-x"),n=e.attr("data-swiper-parallax-y"),r||n?(r=r||"0",n=n||"0"):s()?(r=t,n="0"):(n=t,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*a+"%":r*a+"px",n=n.indexOf("%")>=0?parseInt(n,10)*a+"%":n*a+"px",e.transform("translate3d("+r+", "+n+",0px)")}function p(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof a))return new a(e,r);var u={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},m=r&&r.virtualTranslate;r=r||{};for(var g in u)if("undefined"==typeof r[g])r[g]=u[g];else if("object"==typeof r[g])for(var h in u[g])"undefined"==typeof r[g][h]&&(r[g][h]=u[g][h]);var f=this;f.version="3.0.8",f.params=r,f.classNames=[];var v;if(v="undefined"==typeof t?window.Dom7||window.Zepto||window.jQuery:t,v&&(f.$=v,f.container=v(e),0!==f.container.length)){if(f.container.length>1)return void f.container.each(function(){new a(this,r)});f.container[0].swiper=f,f.container.data("swiper",f),f.classNames.push("swiper-container-"+f.params.direction),f.params.freeMode&&f.classNames.push("swiper-container-free-mode"),f.support.flexbox||(f.classNames.push("swiper-container-no-flexbox"),f.params.slidesPerColumn=1),(f.params.parallax||f.params.watchSlidesVisibility)&&(f.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(f.params.effect)>=0&&(f.support.transforms3d?(f.params.watchSlidesProgress=!0,f.classNames.push("swiper-container-3d")):f.params.effect="slide"),"slide"!==f.params.effect&&f.classNames.push("swiper-container-"+f.params.effect),"cube"===f.params.effect&&(f.params.resistanceRatio=0,f.params.slidesPerView=1,f.params.slidesPerColumn=1,f.params.slidesPerGroup=1,f.params.centeredSlides=!1,f.params.spaceBetween=0,f.params.virtualTranslate=!0,f.params.setWrapperSize=!1),"fade"===f.params.effect&&(f.params.slidesPerView=1,f.params.slidesPerColumn=1,f.params.slidesPerGroup=1,f.params.watchSlidesProgress=!0,f.params.spaceBetween=0,"undefined"==typeof m&&(f.params.virtualTranslate=!0)),f.params.grabCursor&&f.support.touch&&(f.params.grabCursor=!1),f.wrapper=f.container.children("."+f.params.wrapperClass),f.params.pagination&&(f.paginationContainer=v(f.params.pagination),f.params.paginationClickable&&f.paginationContainer.addClass("swiper-pagination-clickable")),f.rtl=s()&&("rtl"===f.container[0].dir.toLowerCase()||"rtl"===f.container.css("direction")),f.rtl&&f.classNames.push("swiper-container-rtl"),f.rtl&&(f.wrongRTL="-webkit-box"===f.wrapper.css("display")),f.params.slidesPerColumn>1&&f.classNames.push("swiper-container-multirow"),f.device.android&&f.classNames.push("swiper-container-android"),f.container.addClass(f.classNames.join(" ")),f.translate=0,f.progress=0,f.velocity=0,f.lockSwipeToNext=function(){f.params.allowSwipeToNext=!1},f.lockSwipeToPrev=function(){f.params.allowSwipeToPrev=!1},f.lockSwipes=function(){f.params.allowSwipeToNext=f.params.allowSwipeToPrev=!1},f.unlockSwipeToNext=function(){f.params.allowSwipeToNext=!0},f.unlockSwipeToPrev=function(){f.params.allowSwipeToPrev=!0},f.unlockSwipes=function(){f.params.allowSwipeToNext=f.params.allowSwipeToPrev=!0},f.params.grabCursor&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grab",f.container[0].style.cursor="-moz-grab",f.container[0].style.cursor="grab"),f.imagesToLoad=[],f.imagesLoaded=0,f.loadImage=function(e,a,t,r){function s(){r&&r()}var n;e.complete&&t?s():a?(n=new window.Image,n.onload=s,n.onerror=s,n.src=a):s()},f.preloadImages=function(){function e(){"undefined"!=typeof f&&null!==f&&(void 0!==f.imagesLoaded&&f.imagesLoaded++,f.imagesLoaded===f.imagesToLoad.length&&(f.params.updateOnImagesReady&&f.update(),f.emit("onImagesReady",f)))}f.imagesToLoad=f.container.find("img");for(var a=0;a<f.imagesToLoad.length;a++)f.loadImage(f.imagesToLoad[a],f.imagesToLoad[a].currentSrc||f.imagesToLoad[a].getAttribute("src"),!0,e)},f.autoplayTimeoutId=void 0,f.autoplaying=!1,f.autoplayPaused=!1,f.startAutoplay=function(){return"undefined"!=typeof f.autoplayTimeoutId?!1:f.params.autoplay?f.autoplaying?!1:(f.autoplaying=!0,f.emit("onAutoplayStart",f),void n()):!1},f.stopAutoplay=function(){f.autoplayTimeoutId&&(f.autoplayTimeoutId&&clearTimeout(f.autoplayTimeoutId),f.autoplaying=!1,f.autoplayTimeoutId=void 0,f.emit("onAutoplayStop",f))},f.pauseAutoplay=function(e){f.autoplayPaused||(f.autoplayTimeoutId&&clearTimeout(f.autoplayTimeoutId),f.autoplayPaused=!0,0===e?(f.autoplayPaused=!1,n()):f.wrapper.transitionEnd(function(){f&&(f.autoplayPaused=!1,f.autoplaying?n():f.stopAutoplay())}))},f.minTranslate=function(){return-f.snapGrid[0]},f.maxTranslate=function(){return-f.snapGrid[f.snapGrid.length-1]},f.updateContainerSize=function(){var e,a;e="undefined"!=typeof f.params.width?f.params.width:f.container[0].clientWidth,a="undefined"!=typeof f.params.height?f.params.height:f.container[0].clientHeight,0===e&&s()||0===a&&!s()||(f.width=e,f.height=a,f.size=s()?f.width:f.height)},f.updateSlidesSize=function(){f.slides=f.wrapper.children("."+f.params.slideClass),f.snapGrid=[],f.slidesGrid=[],f.slidesSizesGrid=[];var e,a=f.params.spaceBetween,t=0,r=0,n=0;"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*f.size),f.virtualSize=-a,f.slides.css(f.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var i;f.params.slidesPerColumn>1&&(i=Math.floor(f.slides.length/f.params.slidesPerColumn)===f.slides.length/f.params.slidesPerColumn?f.slides.length:Math.ceil(f.slides.length/f.params.slidesPerColumn)*f.params.slidesPerColumn);var o,l=f.params.slidesPerColumn,d=i/l,c=d-(f.params.slidesPerColumn*d-f.slides.length);for(e=0;e<f.slides.length;e++){o=0;var p=f.slides.eq(e);if(f.params.slidesPerColumn>1){var u,m,g;"column"===f.params.slidesPerColumnFill?(m=Math.floor(e/l),g=e-m*l,(m>c||m===c&&g===l-1)&&++g>=l&&(g=0,m++),u=m+g*i/l,p.css({"-webkit-box-ordinal-group":u,"-moz-box-ordinal-group":u,"-ms-flex-order":u,"-webkit-order":u,order:u})):(g=Math.floor(e/d),m=e-g*d),p.css({"margin-top":0!==g&&f.params.spaceBetween&&f.params.spaceBetween+"px"}).attr("data-swiper-column",m).attr("data-swiper-row",g)}"none"!==p.css("display")&&("auto"===f.params.slidesPerView?o=s()?p.outerWidth(!0):p.outerHeight(!0):(o=(f.size-(f.params.slidesPerView-1)*a)/f.params.slidesPerView,s()?f.slides[e].style.width=o+"px":f.slides[e].style.height=o+"px"),f.slides[e].swiperSlideSize=o,f.slidesSizesGrid.push(o),f.params.centeredSlides?(t=t+o/2+r/2+a,0===e&&(t=t-f.size/2-a),Math.abs(t)<.001&&(t=0),n%f.params.slidesPerGroup===0&&f.snapGrid.push(t),f.slidesGrid.push(t)):(n%f.params.slidesPerGroup===0&&f.snapGrid.push(t),f.slidesGrid.push(t),t=t+o+a),f.virtualSize+=o+a,r=o,n++)}f.virtualSize=Math.max(f.virtualSize,f.size);var h;if(f.rtl&&f.wrongRTL&&("slide"===f.params.effect||"coverflow"===f.params.effect)&&f.wrapper.css({width:f.virtualSize+f.params.spaceBetween+"px"}),(!f.support.flexbox||f.params.setWrapperSize)&&f.wrapper.css(s()?{width:f.virtualSize+f.params.spaceBetween+"px"}:{height:f.virtualSize+f.params.spaceBetween+"px"}),f.params.slidesPerColumn>1&&(f.virtualSize=(o+f.params.spaceBetween)*i,f.virtualSize=Math.ceil(f.virtualSize/f.params.slidesPerColumn)-f.params.spaceBetween,f.wrapper.css({width:f.virtualSize+f.params.spaceBetween+"px"}),f.params.centeredSlides)){for(h=[],e=0;e<f.snapGrid.length;e++)f.snapGrid[e]<f.virtualSize+f.snapGrid[0]&&h.push(f.snapGrid[e]);f.snapGrid=h}if(!f.params.centeredSlides){for(h=[],e=0;e<f.snapGrid.length;e++)f.snapGrid[e]<=f.virtualSize-f.size&&h.push(f.snapGrid[e]);f.snapGrid=h,Math.floor(f.virtualSize-f.size)>Math.floor(f.snapGrid[f.snapGrid.length-1])&&f.snapGrid.push(f.virtualSize-f.size)}0===f.snapGrid.length&&(f.snapGrid=[0]),0!==f.params.spaceBetween&&f.slides.css(s()?f.rtl?{marginLeft:a+"px"}:{marginRight:a+"px"}:{marginBottom:a+"px"}),f.params.watchSlidesProgress&&f.updateSlidesOffset()},f.updateSlidesOffset=function(){for(var e=0;e<f.slides.length;e++)f.slides[e].swiperSlideOffset=s()?f.slides[e].offsetLeft:f.slides[e].offsetTop},f.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=f.translate||0),0!==f.slides.length){"undefined"==typeof f.slides[0].swiperSlideOffset&&f.updateSlidesOffset();var a=f.params.centeredSlides?-e+f.size/2:-e;f.rtl&&(a=f.params.centeredSlides?e-f.size/2:e);{f.container[0].getBoundingClientRect(),s()?"left":"top",s()?"right":"bottom"}f.slides.removeClass(f.params.slideVisibleClass);for(var t=0;t<f.slides.length;t++){var r=f.slides[t],n=f.params.centeredSlides===!0?r.swiperSlideSize/2:0,i=(a-r.swiperSlideOffset-n)/(r.swiperSlideSize+f.params.spaceBetween);if(f.params.watchSlidesVisibility){var o=-(a-r.swiperSlideOffset-n),l=o+f.slidesSizesGrid[t],d=o>=0&&o<f.size||l>0&&l<=f.size||0>=o&&l>=f.size;d&&f.slides.eq(t).addClass(f.params.slideVisibleClass)}r.progress=f.rtl?-i:i}}},f.updateProgress=function(e){"undefined"==typeof e&&(e=f.translate||0);var a=f.maxTranslate()-f.minTranslate();0===a?(f.progress=0,f.isBeginning=f.isEnd=!0):(f.progress=(e-f.minTranslate())/a,f.isBeginning=f.progress<=0,f.isEnd=f.progress>=1),f.isBeginning&&f.emit("onReachBeginning",f),f.isEnd&&f.emit("onReachEnd",f),f.params.watchSlidesProgress&&f.updateSlidesProgress(e),f.emit("onProgress",f,f.progress)},f.updateActiveIndex=function(){var e,a,t,r=f.rtl?f.translate:-f.translate;for(a=0;a<f.slidesGrid.length;a++)"undefined"!=typeof f.slidesGrid[a+1]?r>=f.slidesGrid[a]&&r<f.slidesGrid[a+1]-(f.slidesGrid[a+1]-f.slidesGrid[a])/2?e=a:r>=f.slidesGrid[a]&&r<f.slidesGrid[a+1]&&(e=a+1):r>=f.slidesGrid[a]&&(e=a);(0>e||"undefined"==typeof e)&&(e=0),t=Math.floor(e/f.params.slidesPerGroup),t>=f.snapGrid.length&&(t=f.snapGrid.length-1),e!==f.activeIndex&&(f.snapIndex=t,f.previousIndex=f.activeIndex,f.activeIndex=e,f.updateClasses())},f.updateClasses=function(){f.slides.removeClass(f.params.slideActiveClass+" "+f.params.slideNextClass+" "+f.params.slidePrevClass);var e=f.slides.eq(f.activeIndex);if(e.addClass(f.params.slideActiveClass),e.next("."+f.params.slideClass).addClass(f.params.slideNextClass),e.prev("."+f.params.slideClass).addClass(f.params.slidePrevClass),f.bullets&&f.bullets.length>0){f.bullets.removeClass(f.params.bulletActiveClass);var a;f.params.loop?(a=Math.ceil(f.activeIndex-f.loopedSlides)/f.params.slidesPerGroup,a>f.slides.length-1-2*f.loopedSlides&&(a-=f.slides.length-2*f.loopedSlides),a>f.bullets.length-1&&(a-=f.bullets.length)):a="undefined"!=typeof f.snapIndex?f.snapIndex:f.activeIndex||0,f.paginationContainer.length>1?f.bullets.each(function(){v(this).index()===a&&v(this).addClass(f.params.bulletActiveClass)}):f.bullets.eq(a).addClass(f.params.bulletActiveClass)}f.params.loop||(f.params.prevButton&&(f.isBeginning?(v(f.params.prevButton).addClass(f.params.buttonDisabledClass),f.params.a11y&&f.a11y&&f.a11y.disable(v(f.params.prevButton))):(v(f.params.prevButton).removeClass(f.params.buttonDisabledClass),f.params.a11y&&f.a11y&&f.a11y.enable(v(f.params.prevButton)))),f.params.nextButton&&(f.isEnd?(v(f.params.nextButton).addClass(f.params.buttonDisabledClass),f.params.a11y&&f.a11y&&f.a11y.disable(v(f.params.nextButton))):(v(f.params.nextButton).removeClass(f.params.buttonDisabledClass),f.params.a11y&&f.a11y&&f.a11y.enable(v(f.params.nextButton)))))},f.updatePagination=function(){if(f.params.pagination&&f.paginationContainer&&f.paginationContainer.length>0){for(var e="",a=f.params.loop?Math.ceil((f.slides.length-2*f.loopedSlides)/f.params.slidesPerGroup):f.snapGrid.length,t=0;a>t;t++)e+=f.params.paginationBulletRender?f.params.paginationBulletRender(t,f.params.bulletClass):'<span class="'+f.params.bulletClass+'"></span>';f.paginationContainer.html(e),f.bullets=f.paginationContainer.find("."+f.params.bulletClass)}},f.update=function(e){function a(){r=Math.min(Math.max(f.translate,f.maxTranslate()),f.minTranslate()),f.setWrapperTranslate(r),f.updateActiveIndex(),f.updateClasses()}if(f.updateContainerSize(),f.updateSlidesSize(),f.updateProgress(),f.updatePagination(),f.updateClasses(),f.params.scrollbar&&f.scrollbar&&f.scrollbar.set(),e){var t,r;f.params.freeMode?a():(t="auto"===f.params.slidesPerView&&f.isEnd&&!f.params.centeredSlides?f.slideTo(f.slides.length-1,0,!1,!0):f.slideTo(f.activeIndex,0,!1,!0),t||a())}},f.onResize=function(e){if(f.updateContainerSize(),f.updateSlidesSize(),f.updateProgress(),("auto"===f.params.slidesPerView||f.params.freeMode||e)&&f.updatePagination(),f.params.scrollbar&&f.scrollbar&&f.scrollbar.set(),f.params.freeMode){var a=Math.min(Math.max(f.translate,f.maxTranslate()),f.minTranslate());f.setWrapperTranslate(a),f.updateActiveIndex(),f.updateClasses()}else f.updateClasses(),"auto"===f.params.slidesPerView&&f.isEnd&&!f.params.centeredSlides?f.slideTo(f.slides.length-1,0,!1,!0):f.slideTo(f.activeIndex,0,!1,!0)};var w=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?w=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(w=["MSPointerDown","MSPointerMove","MSPointerUp"]),f.touchEvents={start:f.support.touch||!f.params.simulateTouch?"touchstart":w[0],move:f.support.touch||!f.params.simulateTouch?"touchmove":w[1],end:f.support.touch||!f.params.simulateTouch?"touchend":w[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===f.params.touchEventsTarget?f.container:f.wrapper).addClass("swiper-wp8-"+f.params.direction),f.initEvents=function(e){var a=e?"off":"on",t=e?"removeEventListener":"addEventListener",s="container"===f.params.touchEventsTarget?f.container[0]:f.wrapper[0],n=f.support.touch?s:document,i=f.params.nested?!0:!1;f.browser.ie?(s[t](f.touchEvents.start,f.onTouchStart,!1),n[t](f.touchEvents.move,f.onTouchMove,i),n[t](f.touchEvents.end,f.onTouchEnd,!1)):(f.support.touch&&(s[t](f.touchEvents.start,f.onTouchStart,!1),s[t](f.touchEvents.move,f.onTouchMove,i),s[t](f.touchEvents.end,f.onTouchEnd,!1)),!r.simulateTouch||f.device.ios||f.device.android||(s[t]("mousedown",f.onTouchStart,!1),document[t]("mousemove",f.onTouchMove,i),document[t]("mouseup",f.onTouchEnd,!1))),window[t]("resize",f.onResize),f.params.nextButton&&(v(f.params.nextButton)[a]("click",f.onClickNext),f.params.a11y&&f.a11y&&v(f.params.nextButton)[a]("keydown",f.a11y.onEnterKey)),f.params.prevButton&&(v(f.params.prevButton)[a]("click",f.onClickPrev),f.params.a11y&&f.a11y&&v(f.params.prevButton)[a]("keydown",f.a11y.onEnterKey)),f.params.pagination&&f.params.paginationClickable&&v(f.paginationContainer)[a]("click","."+f.params.bulletClass,f.onClickIndex),(f.params.preventClicks||f.params.preventClicksPropagation)&&s[t]("click",f.preventClicks,!0)},f.attachEvents=function(){f.initEvents()},f.detachEvents=function(){f.initEvents(!0)},f.allowClick=!0,f.preventClicks=function(e){f.allowClick||(f.params.preventClicks&&e.preventDefault(),f.params.preventClicksPropagation&&f.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},f.onClickNext=function(e){e.preventDefault(),f.slideNext()},f.onClickPrev=function(e){e.preventDefault(),f.slidePrev()},f.onClickIndex=function(e){e.preventDefault();var a=v(this).index()*f.params.slidesPerGroup;f.params.loop&&(a+=f.loopedSlides),f.slideTo(a)},f.updateClickedSlide=function(e){var a=i(e,"."+f.params.slideClass),t=!1;if(a)for(var r=0;r<f.slides.length;r++)f.slides[r]===a&&(t=!0);if(!a||!t)return f.clickedSlide=void 0,void(f.clickedIndex=void 0);if(f.clickedSlide=a,f.clickedIndex=v(a).index(),f.params.slideToClickedSlide&&void 0!==f.clickedIndex&&f.clickedIndex!==f.activeIndex){var s,n=f.clickedIndex;if(f.params.loop)if(s=v(f.clickedSlide).attr("data-swiper-slide-index"),n>f.slides.length-f.params.slidesPerView)f.fixLoop(),n=f.wrapper.children("."+f.params.slideClass+'[data-swiper-slide-index="'+s+'"]').eq(0).index(),setTimeout(function(){f.slideTo(n)},0);else if(n<f.params.slidesPerView-1){f.fixLoop();var o=f.wrapper.children("."+f.params.slideClass+'[data-swiper-slide-index="'+s+'"]');n=o.eq(o.length-1).index(),setTimeout(function(){f.slideTo(n)},0)}else f.slideTo(n);else f.slideTo(n)}};var b,y,k,S,C,x,T,P,$,E="input, select, textarea, button",I=Date.now(),_=[];f.animating=!1,f.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var F,D;if(f.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),F="touchstart"===e.type,F||!("which"in e)||3!==e.which){if(f.params.noSwiping&&i(e,"."+f.params.noSwipingClass))return void(f.allowClick=!0);if(!f.params.swipeHandler||i(e,f.params.swipeHandler)){if(b=!0,y=!1,S=void 0,D=void 0,f.touches.startX=f.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,f.touches.startY=f.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,k=Date.now(),f.allowClick=!0,f.updateContainerSize(),f.swipeDirection=void 0,f.params.threshold>0&&(T=!1),"touchstart"!==e.type){var a=!0;v(e.target).is(E)&&(a=!1),document.activeElement&&v(document.activeElement).is(E)&&document.activeElement.blur(),a&&e.preventDefault()}f.emit("onTouchStart",f,e)}}},f.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(F&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(f.params.onlyExternal)return y=!0,void(f.allowClick=!1);if(F&&document.activeElement&&e.target===document.activeElement&&v(e.target).is(E))return y=!0,void(f.allowClick=!1);if(f.emit("onTouchMove",f,e),!(e.targetTouches&&e.targetTouches.length>1)){if(f.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,f.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof S){var a=180*Math.atan2(Math.abs(f.touches.currentY-f.touches.startY),Math.abs(f.touches.currentX-f.touches.startX))/Math.PI;S=s()?a>f.params.touchAngle:90-a>f.params.touchAngle}if(S&&f.emit("onTouchMoveOpposite",f,e),"undefined"==typeof D&&f.browser.ieTouch&&(f.touches.currentX!==f.touches.startX||f.touches.currentY!==f.touches.startY)&&(D=!0),b){if(S)return void(b=!1);if(D||!f.browser.ieTouch){f.allowClick=!1,f.emit("onSliderMove",f,e),e.preventDefault(),f.params.touchMoveStopPropagation&&!f.params.nested&&e.stopPropagation(),y||(r.loop&&f.fixLoop(),x=f.getWrapperTranslate(),f.setWrapperTransition(0),f.animating&&f.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),f.params.autoplay&&f.autoplaying&&(f.params.autoplayDisableOnInteraction?f.stopAutoplay():f.pauseAutoplay()),$=!1,f.params.grabCursor&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grabbing",f.container[0].style.cursor="-moz-grabbin",f.container[0].style.cursor="grabbing")),y=!0;var t=f.touches.diff=s()?f.touches.currentX-f.touches.startX:f.touches.currentY-f.touches.startY;t*=f.params.touchRatio,f.rtl&&(t=-t),f.swipeDirection=t>0?"prev":"next",C=t+x;var n=!0;if(t>0&&C>f.minTranslate()?(n=!1,f.params.resistance&&(C=f.minTranslate()-1+Math.pow(-f.minTranslate()+x+t,f.params.resistanceRatio))):0>t&&C<f.maxTranslate()&&(n=!1,f.params.resistance&&(C=f.maxTranslate()+1-Math.pow(f.maxTranslate()-x-t,f.params.resistanceRatio))),n&&(e.preventedByNestedSwiper=!0),!f.params.allowSwipeToNext&&"next"===f.swipeDirection&&x>C&&(C=x),!f.params.allowSwipeToPrev&&"prev"===f.swipeDirection&&C>x&&(C=x),f.params.followFinger){if(f.params.threshold>0){if(!(Math.abs(t)>f.params.threshold||T))return void(C=x);if(!T)return T=!0,f.touches.startX=f.touches.currentX,f.touches.startY=f.touches.currentY,C=x,void(f.touches.diff=s()?f.touches.currentX-f.touches.startX:f.touches.currentY-f.touches.startY)}(f.params.freeMode||f.params.watchSlidesProgress)&&f.updateActiveIndex(),f.params.freeMode&&(0===_.length&&_.push({position:f.touches[s()?"startX":"startY"],time:k}),_.push({position:f.touches[s()?"currentX":"currentY"],time:(new window.Date).getTime()})),f.updateProgress(C),f.setWrapperTranslate(C)}}}}}},f.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),f.emit("onTouchEnd",f,e),b){f.params.grabCursor&&y&&b&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grab",f.container[0].style.cursor="-moz-grab",f.container[0].style.cursor="grab");var a=Date.now(),t=a-k;if(f.allowClick&&(f.updateClickedSlide(e),f.emit("onTap",f,e),300>t&&a-I>300&&(P&&clearTimeout(P),P=setTimeout(function(){f&&(f.params.paginationHide&&f.paginationContainer.length>0&&!v(e.target).hasClass(f.params.bulletClass)&&f.paginationContainer.toggleClass(f.params.paginationHiddenClass),f.emit("onClick",f,e))},300)),300>t&&300>a-I&&(P&&clearTimeout(P),f.emit("onDoubleTap",f,e))),I=Date.now(),setTimeout(function(){f&&(f.allowClick=!0)},0),!b||!y||!f.swipeDirection||0===f.touches.diff||C===x)return void(b=y=!1);b=y=!1;var r;if(r=f.params.followFinger?f.rtl?f.translate:-f.translate:-C,f.params.freeMode){if(r<-f.minTranslate())return void f.slideTo(f.activeIndex);if(r>-f.maxTranslate())return void f.slideTo(f.slides.length<f.snapGrid.length?f.snapGrid.length-1:f.slides.length-1);if(f.params.freeModeMomentum){if(_.length>1){var s=_.pop(),n=_.pop(),i=s.position-n.position,o=s.time-n.time;f.velocity=i/o,f.velocity=f.velocity/2,Math.abs(f.velocity)<.02&&(f.velocity=0),(o>150||(new window.Date).getTime()-s.time>300)&&(f.velocity=0)}else f.velocity=0;_.length=0;var l=1e3*f.params.freeModeMomentumRatio,d=f.velocity*l,c=f.translate+d;f.rtl&&(c=-c);var p,u=!1,m=20*Math.abs(f.velocity)*f.params.freeModeMomentumBounceRatio;if(c<f.maxTranslate())f.params.freeModeMomentumBounce?(c+f.maxTranslate()<-m&&(c=f.maxTranslate()-m),p=f.maxTranslate(),u=!0,$=!0):c=f.maxTranslate();else if(c>f.minTranslate())f.params.freeModeMomentumBounce?(c-f.minTranslate()>m&&(c=f.minTranslate()+m),p=f.minTranslate(),u=!0,$=!0):c=f.minTranslate();else if(f.params.freeModeSticky){var g,h=0;for(h=0;h<f.snapGrid.length;h+=1)if(f.snapGrid[h]>-c){g=h;break}c=Math.abs(f.snapGrid[g]-c)<Math.abs(f.snapGrid[g-1]-c)||"next"===f.swipeDirection?f.snapGrid[g]:f.snapGrid[g-1],f.rtl||(c=-c)}if(0!==f.velocity)l=Math.abs(f.rtl?(-c-f.translate)/f.velocity:(c-f.translate)/f.velocity);else if(f.params.freeModeSticky)return void f.slideReset();f.params.freeModeMomentumBounce&&u?(f.updateProgress(p),f.setWrapperTransition(l),f.setWrapperTranslate(c),f.onTransitionStart(),f.animating=!0,f.wrapper.transitionEnd(function(){f&&$&&(f.emit("onMomentumBounce",f),f.setWrapperTransition(f.params.speed),f.setWrapperTranslate(p),f.wrapper.transitionEnd(function(){f&&f.onTransitionEnd()}))})):f.velocity?(f.updateProgress(c),f.setWrapperTransition(l),f.setWrapperTranslate(c),f.onTransitionStart(),f.animating||(f.animating=!0,f.wrapper.transitionEnd(function(){f&&f.onTransitionEnd()}))):f.updateProgress(c),f.updateActiveIndex()}return void((!f.params.freeModeMomentum||t>=f.params.longSwipesMs)&&(f.updateProgress(),f.updateActiveIndex()))}var w,S=0,T=f.slidesSizesGrid[0];for(w=0;w<f.slidesGrid.length;w+=f.params.slidesPerGroup)"undefined"!=typeof f.slidesGrid[w+f.params.slidesPerGroup]?r>=f.slidesGrid[w]&&r<f.slidesGrid[w+f.params.slidesPerGroup]&&(S=w,T=f.slidesGrid[w+f.params.slidesPerGroup]-f.slidesGrid[w]):r>=f.slidesGrid[w]&&(S=w,T=f.slidesGrid[f.slidesGrid.length-1]-f.slidesGrid[f.slidesGrid.length-2]);var E=(r-f.slidesGrid[S])/T;if(t>f.params.longSwipesMs){if(!f.params.longSwipes)return void f.slideTo(f.activeIndex);"next"===f.swipeDirection&&f.slideTo(E>=f.params.longSwipesRatio?S+f.params.slidesPerGroup:S),"prev"===f.swipeDirection&&f.slideTo(E>1-f.params.longSwipesRatio?S+f.params.slidesPerGroup:S)}else{if(!f.params.shortSwipes)return void f.slideTo(f.activeIndex);"next"===f.swipeDirection&&f.slideTo(S+f.params.slidesPerGroup),"prev"===f.swipeDirection&&f.slideTo(S)}}},f._slideTo=function(e,a){return f.slideTo(e,a,!0,!0)},f.slideTo=function(e,a,t,r){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),f.snapIndex=Math.floor(e/f.params.slidesPerGroup),f.snapIndex>=f.snapGrid.length&&(f.snapIndex=f.snapGrid.length-1);var n=-f.snapGrid[f.snapIndex];if(!f.params.allowSwipeToNext&&n<f.translate&&n<f.minTranslate())return!1;if(!f.params.allowSwipeToPrev&&n>f.translate&&n>f.maxTranslate())return!1;f.params.autoplay&&f.autoplaying&&(r||!f.params.autoplayDisableOnInteraction?f.pauseAutoplay(a):f.stopAutoplay()),f.updateProgress(n);for(var i=0;i<f.slidesGrid.length;i++)-n>=f.slidesGrid[i]&&(e=i);if("undefined"==typeof a&&(a=f.params.speed),f.previousIndex=f.activeIndex||0,f.activeIndex=e,n===f.translate)return f.updateClasses(),!1;f.updateClasses(),f.onTransitionStart(t);s()?n:0,s()?0:n;return 0===a?(f.setWrapperTransition(0),f.setWrapperTranslate(n),f.onTransitionEnd(t)):(f.setWrapperTransition(a),f.setWrapperTranslate(n),f.animating||(f.animating=!0,f.wrapper.transitionEnd(function(){f&&f.onTransitionEnd(t)}))),!0},f.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),f.lazy&&f.lazy.onTransitionStart(),e&&(f.emit("onTransitionStart",f),f.activeIndex!==f.previousIndex&&f.emit("onSlideChangeStart",f))},f.onTransitionEnd=function(e){f.animating=!1,f.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),f.lazy&&f.lazy.onTransitionEnd(),e&&(f.emit("onTransitionEnd",f),f.activeIndex!==f.previousIndex&&f.emit("onSlideChangeEnd",f)),f.params.hashnav&&f.hashnav&&f.hashnav.setHash()},f.slideNext=function(e,a,t){if(f.params.loop){if(f.animating)return!1;f.fixLoop();{f.container[0].clientLeft}return f.slideTo(f.activeIndex+f.params.slidesPerGroup,a,e,t)}return f.slideTo(f.activeIndex+f.params.slidesPerGroup,a,e,t)},f._slideNext=function(e){return f.slideNext(!0,e,!0)},f.slidePrev=function(e,a,t){if(f.params.loop){if(f.animating)return!1;f.fixLoop();{f.container[0].clientLeft}return f.slideTo(f.activeIndex-1,a,e,t)}return f.slideTo(f.activeIndex-1,a,e,t)},f._slidePrev=function(e){return f.slidePrev(!0,e,!0)},f.slideReset=function(e,a){return f.slideTo(f.activeIndex,a,e)},f.setWrapperTransition=function(e,a){f.wrapper.transition(e),"slide"!==f.params.effect&&f.effects[f.params.effect]&&f.effects[f.params.effect].setTransition(e),f.params.parallax&&f.parallax&&f.parallax.setTransition(e),f.params.scrollbar&&f.scrollbar&&f.scrollbar.setTransition(e),f.params.control&&f.controller&&f.controller.setTransition(e,a),f.emit("onSetTransition",f,e)},f.setWrapperTranslate=function(e,a,t){var r=0,n=0,i=0;s()?r=f.rtl?-e:e:n=e,f.params.virtualTranslate||f.wrapper.transform(f.support.transforms3d?"translate3d("+r+"px, "+n+"px, "+i+"px)":"translate("+r+"px, "+n+"px)"),f.translate=s()?r:n,a&&f.updateActiveIndex(),"slide"!==f.params.effect&&f.effects[f.params.effect]&&f.effects[f.params.effect].setTranslate(f.translate),f.params.parallax&&f.parallax&&f.parallax.setTranslate(f.translate),f.params.scrollbar&&f.scrollbar&&f.scrollbar.setTranslate(f.translate),f.params.control&&f.controller&&f.controller.setTranslate(f.translate,t),f.emit("onSetTranslate",f,f.translate)
},f.getTranslate=function(e,a){var t,r,s,n;return"undefined"==typeof a&&(a="x"),f.params.virtualTranslate?f.rtl?-f.translate:f.translate:(s=window.getComputedStyle(e,null),window.WebKitCSSMatrix?n=new window.WebKitCSSMatrix("none"===s.webkitTransform?"":s.webkitTransform):(n=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=n.toString().split(",")),"x"===a&&(r=window.WebKitCSSMatrix?n.m41:parseFloat(16===t.length?t[12]:t[4])),"y"===a&&(r=window.WebKitCSSMatrix?n.m42:parseFloat(16===t.length?t[13]:t[5])),f.rtl&&r&&(r=-r),r||0)},f.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=s()?"x":"y"),f.getTranslate(f.wrapper[0],e)},f.observers=[],f.initObservers=function(){if(f.params.observeParents)for(var e=f.container.parents(),a=0;a<e.length;a++)o(e[a]);o(f.container[0],{childList:!1}),o(f.wrapper[0],{attributes:!1})},f.disconnectObservers=function(){for(var e=0;e<f.observers.length;e++)f.observers[e].disconnect();f.observers=[]},f.createLoop=function(){f.wrapper.children("."+f.params.slideClass+"."+f.params.slideDuplicateClass).remove();var e=f.wrapper.children("."+f.params.slideClass);f.loopedSlides=parseInt(f.params.loopedSlides||f.params.slidesPerView,10),f.loopedSlides=f.loopedSlides+f.params.loopAdditionalSlides,f.loopedSlides>e.length&&(f.loopedSlides=e.length);var a,t=[],r=[];for(e.each(function(a,s){var n=v(this);a<f.loopedSlides&&r.push(s),a<e.length&&a>=e.length-f.loopedSlides&&t.push(s),n.attr("data-swiper-slide-index",a)}),a=0;a<r.length;a++)f.wrapper.append(v(r[a].cloneNode(!0)).addClass(f.params.slideDuplicateClass));for(a=t.length-1;a>=0;a--)f.wrapper.prepend(v(t[a].cloneNode(!0)).addClass(f.params.slideDuplicateClass))},f.destroyLoop=function(){f.wrapper.children("."+f.params.slideClass+"."+f.params.slideDuplicateClass).remove(),f.slides.removeAttr("data-swiper-slide-index")},f.fixLoop=function(){var e;f.activeIndex<f.loopedSlides?(e=f.slides.length-3*f.loopedSlides+f.activeIndex,e+=f.loopedSlides,f.slideTo(e,0,!1,!0)):("auto"===f.params.slidesPerView&&f.activeIndex>=2*f.loopedSlides||f.activeIndex>f.slides.length-2*f.params.slidesPerView)&&(e=-f.slides.length+f.activeIndex+f.loopedSlides,e+=f.loopedSlides,f.slideTo(e,0,!1,!0))},f.appendSlide=function(e){if(f.params.loop&&f.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&f.wrapper.append(e[a]);else f.wrapper.append(e);f.params.loop&&f.createLoop(),f.params.observer&&f.support.observer||f.update(!0)},f.prependSlide=function(e){f.params.loop&&f.destroyLoop();var a=f.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&f.wrapper.prepend(e[t]);a=f.activeIndex+e.length}else f.wrapper.prepend(e);f.params.loop&&f.createLoop(),f.params.observer&&f.support.observer||f.update(!0),f.slideTo(a,0,!1)},f.removeSlide=function(e){f.params.loop&&(f.destroyLoop(),f.slides=f.wrapper.children("."+f.params.slideClass));var a,t=f.activeIndex;if("object"==typeof e&&e.length){for(var r=0;r<e.length;r++)a=e[r],f.slides[a]&&f.slides.eq(a).remove(),t>a&&t--;t=Math.max(t,0)}else a=e,f.slides[a]&&f.slides.eq(a).remove(),t>a&&t--,t=Math.max(t,0);f.params.loop&&f.createLoop(),f.params.observer&&f.support.observer||f.update(!0),f.params.loop?f.slideTo(t+f.loopedSlides,0,!1):f.slideTo(t,0,!1)},f.removeAllSlides=function(){for(var e=[],a=0;a<f.slides.length;a++)e.push(a);f.removeSlide(e)},f.effects={fade:{setTranslate:function(){for(var e=0;e<f.slides.length;e++){var a=f.slides.eq(e),t=a[0].swiperSlideOffset,r=-t;f.params.virtualTranslate||(r-=f.translate);var n=0;s()||(n=r,r=0);var i=f.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:i}).transform("translate3d("+r+"px, "+n+"px, 0px)")}},setTransition:function(e){if(f.slides.transition(e),f.params.virtualTranslate&&0!==e){var a=!1;f.slides.transitionEnd(function(){if(!a&&f){a=!0,f.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)f.wrapper.trigger(e[t])}})}}},cube:{setTranslate:function(){var e,a=0;f.params.cube.shadow&&(s()?(e=f.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=v('<div class="swiper-cube-shadow"></div>'),f.wrapper.append(e)),e.css({height:f.width+"px"})):(e=f.container.find(".swiper-cube-shadow"),0===e.length&&(e=v('<div class="swiper-cube-shadow"></div>'),f.container.append(e))));for(var t=0;t<f.slides.length;t++){var r=f.slides.eq(t),n=90*t,i=Math.floor(n/360);f.rtl&&(n=-n,i=Math.floor(-n/360));var o=Math.max(Math.min(r[0].progress,1),-1),l=0,d=0,c=0;t%4===0?(l=4*-i*f.size,c=0):(t-1)%4===0?(l=0,c=4*-i*f.size):(t-2)%4===0?(l=f.size+4*i*f.size,c=f.size):(t-3)%4===0&&(l=-f.size,c=3*f.size+4*f.size*i),f.rtl&&(l=-l),s()||(d=l,l=0);var p="rotateX("+(s()?0:-n)+"deg) rotateY("+(s()?n:0)+"deg) translate3d("+l+"px, "+d+"px, "+c+"px)";if(1>=o&&o>-1&&(a=90*t+90*o,f.rtl&&(a=90*-t-90*o)),r.transform(p),f.params.cube.slideShadows){var u=r.find(s()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),m=r.find(s()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===u.length&&(u=v('<div class="swiper-slide-shadow-'+(s()?"left":"top")+'"></div>'),r.append(u)),0===m.length&&(m=v('<div class="swiper-slide-shadow-'+(s()?"right":"bottom")+'"></div>'),r.append(m));{r[0].progress}u.length&&(u[0].style.opacity=-r[0].progress),m.length&&(m[0].style.opacity=r[0].progress)}}if(f.wrapper.css({"-webkit-transform-origin":"50% 50% -"+f.size/2+"px","-moz-transform-origin":"50% 50% -"+f.size/2+"px","-ms-transform-origin":"50% 50% -"+f.size/2+"px","transform-origin":"50% 50% -"+f.size/2+"px"}),f.params.cube.shadow)if(s())e.transform("translate3d(0px, "+(f.width/2+f.params.cube.shadowOffset)+"px, "+-f.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+f.params.cube.shadowScale+")");else{var g=Math.abs(a)-90*Math.floor(Math.abs(a)/90),h=1.5-(Math.sin(2*g*Math.PI/360)/2+Math.cos(2*g*Math.PI/360)/2),w=f.params.cube.shadowScale,b=f.params.cube.shadowScale/h,y=f.params.cube.shadowOffset;e.transform("scale3d("+w+", 1, "+b+") translate3d(0px, "+(f.height/2+y)+"px, "+-f.height/2/b+"px) rotateX(-90deg)")}var k=f.isSafari||f.isUiWebView?-f.size/2:0;f.wrapper.transform("translate3d(0px,0,"+k+"px) rotateX("+(s()?0:a)+"deg) rotateY("+(s()?-a:0)+"deg)")},setTransition:function(e){f.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),f.params.cube.shadow&&!s()&&f.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=f.translate,a=s()?-e+f.width/2:-e+f.height/2,t=s()?f.params.coverflow.rotate:-f.params.coverflow.rotate,r=f.params.coverflow.depth,n=0,i=f.slides.length;i>n;n++){var o=f.slides.eq(n),l=f.slidesSizesGrid[n],d=o[0].swiperSlideOffset,c=(a-d-l/2)/l*f.params.coverflow.modifier,p=s()?t*c:0,u=s()?0:t*c,m=-r*Math.abs(c),g=s()?0:f.params.coverflow.stretch*c,h=s()?f.params.coverflow.stretch*c:0;Math.abs(h)<.001&&(h=0),Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(p)<.001&&(p=0),Math.abs(u)<.001&&(u=0);var w="translate3d("+h+"px,"+g+"px,"+m+"px)  rotateX("+u+"deg) rotateY("+p+"deg)";if(o.transform(w),o[0].style.zIndex=-Math.abs(Math.round(c))+1,f.params.coverflow.slideShadows){var b=o.find(s()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),y=o.find(s()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===b.length&&(b=v('<div class="swiper-slide-shadow-'+(s()?"left":"top")+'"></div>'),o.append(b)),0===y.length&&(y=v('<div class="swiper-slide-shadow-'+(s()?"right":"bottom")+'"></div>'),o.append(y)),b.length&&(b[0].style.opacity=c>0?c:0),y.length&&(y[0].style.opacity=-c>0?-c:0)}}if(f.browser.ie){var k=f.wrapper[0].style;k.perspectiveOrigin=a+"px 50%"}},setTransition:function(e){f.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},f.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,a){if("undefined"!=typeof e&&("undefined"==typeof a&&(a=!0),0!==f.slides.length)){var t=f.slides.eq(e),r=t.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!t.hasClass("swiper-lazy")||t.hasClass("swiper-lazy-loaded")||t.hasClass("swiper-lazy-loading")||r.add(t[0]),0!==r.length&&r.each(function(){var e=v(this);e.addClass("swiper-lazy-loading");var r=e.attr("data-background"),s=e.attr("data-src");f.loadImage(e[0],s||r,!1,function(){if(r?(e.css("background-image","url("+r+")"),e.removeAttr("data-background")):(e.attr("src",s),e.removeAttr("data-src")),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),t.find(".swiper-lazy-preloader, .preloader").remove(),f.params.loop&&a){var n=t.attr("data-swiper-slide-index");if(t.hasClass(f.params.slideDuplicateClass)){var i=f.wrapper.children('[data-swiper-slide-index="'+n+'"]:not(.'+f.params.slideDuplicateClass+")");f.lazy.loadImageInSlide(i.index(),!1)}else{var o=f.wrapper.children("."+f.params.slideDuplicateClass+'[data-swiper-slide-index="'+n+'"]');f.lazy.loadImageInSlide(o.index(),!1)}}f.emit("onLazyImageReady",f,t[0],e[0])}),f.emit("onLazyImageLoad",f,t[0],e[0])})}},load:function(){var e;if(f.params.watchSlidesVisibility)f.wrapper.children("."+f.params.slideVisibleClass).each(function(){f.lazy.loadImageInSlide(v(this).index())});else if(f.params.slidesPerView>1)for(e=f.activeIndex;e<f.activeIndex+f.params.slidesPerView;e++)f.slides[e]&&f.lazy.loadImageInSlide(e);else f.lazy.loadImageInSlide(f.activeIndex);if(f.params.lazyLoadingInPrevNext)if(f.params.slidesPerView>1){for(e=f.activeIndex+f.params.slidesPerView;e<f.activeIndex+f.params.slidesPerView+f.params.slidesPerView;e++)f.slides[e]&&f.lazy.loadImageInSlide(e);for(e=f.activeIndex-f.params.slidesPerView;e<f.activeIndex;e++)f.slides[e]&&f.lazy.loadImageInSlide(e)}else{var a=f.wrapper.children("."+f.params.slideNextClass);a.length>0&&f.lazy.loadImageInSlide(a.index());var t=f.wrapper.children("."+f.params.slidePrevClass);t.length>0&&f.lazy.loadImageInSlide(t.index())}},onTransitionStart:function(){f.params.lazyLoading&&(f.params.lazyLoadingOnTransitionStart||!f.params.lazyLoadingOnTransitionStart&&!f.lazy.initialImageLoaded)&&f.lazy.load()},onTransitionEnd:function(){f.params.lazyLoading&&!f.params.lazyLoadingOnTransitionStart&&f.lazy.load()}},f.scrollbar={set:function(){if(f.params.scrollbar){var e=f.scrollbar;e.track=v(f.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=v('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=s()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=f.size/f.virtualSize,e.moveDivider=e.divider*(e.trackSize/f.size),e.dragSize=e.trackSize*e.divider,s()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.track[0].style.display=e.divider>=1?"none":"",f.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(f.params.scrollbar){var e,a=f.scrollbar,t=(f.translate||0,a.dragSize);e=(a.trackSize-a.dragSize)*f.progress,f.rtl&&s()?(e=-e,e>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e)):0>e?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),s()?(a.drag.transform(f.support.transforms3d?"translate3d("+e+"px, 0, 0)":"translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(a.drag.transform(f.support.transforms3d?"translate3d(0px, "+e+"px, 0)":"translateY("+e+"px)"),a.drag[0].style.height=t+"px"),f.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){f.params.scrollbar&&f.scrollbar.drag.transition(e)}},f.controller={setTranslate:function(e,t){function r(a){e=a.rtl&&"horizontal"===a.params.direction?-f.translate:f.translate,s=(a.maxTranslate()-a.minTranslate())/(f.maxTranslate()-f.minTranslate()),n=(e-f.minTranslate())*s+a.minTranslate(),f.params.controlInverse&&(n=a.maxTranslate()-n),a.updateProgress(n),a.setWrapperTranslate(n,!1,f),a.updateActiveIndex()}var s,n,i=f.params.control;if(f.isArray(i))for(var o=0;o<i.length;o++)i[o]!==t&&i[o]instanceof a&&r(i[o]);else i instanceof a&&t!==i&&r(i)},setTransition:function(e,t){function r(a){a.setWrapperTransition(e,f),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){n&&a.onTransitionEnd()}))}var s,n=f.params.control;if(f.isArray(n))for(s=0;s<n.length;s++)n[s]!==t&&n[s]instanceof a&&r(n[s]);else n instanceof a&&t!==n&&r(n)}},f.hashnav={init:function(){if(f.params.hashnav){f.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var a=0,t=0,r=f.slides.length;r>t;t++){var s=f.slides.eq(t),n=s.attr("data-hash");if(n===e&&!s.hasClass(f.params.slideDuplicateClass)){var i=s.index();f.slideTo(i,a,f.params.runCallbacksOnInit,!0)}}}},setHash:function(){f.hashnav.initialized&&f.params.hashnav&&(document.location.hash=f.slides.eq(f.activeIndex).attr("data-hash")||"")}},f.disableKeyboardControl=function(){v(document).off("keydown",l)},f.enableKeyboardControl=function(){v(document).on("keydown",l)},f.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},f.params.mousewheelControl){if(void 0!==document.onmousewheel&&(f.mousewheel.event="mousewheel"),!f.mousewheel.event)try{new window.WheelEvent("wheel"),f.mousewheel.event="wheel"}catch(M){}f.mousewheel.event||(f.mousewheel.event="DOMMouseScroll")}f.disableMousewheelControl=function(){return f.mousewheel.event?(f.container.off(f.mousewheel.event,d),!0):!1},f.enableMousewheelControl=function(){return f.mousewheel.event?(f.container.on(f.mousewheel.event,d),!0):!1},f.parallax={setTranslate:function(){f.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,f.progress)}),f.slides.each(function(){var e=v(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=Math.min(Math.max(e[0].progress,-1),1);c(this,a)})})},setTransition:function(e){"undefined"==typeof e&&(e=f.params.speed),f.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=v(this),t=parseInt(a.attr("data-swiper-parallax-duration"),10)||e;0===e&&(t=0),a.transition(t)})}},f._plugins=[];for(var A in f.plugins){var z=f.plugins[A](f,f.params[A]);z&&f._plugins.push(z)}return f.callPlugins=function(e){for(var a=0;a<f._plugins.length;a++)e in f._plugins[a]&&f._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},f.emitterEventListeners={},f.emit=function(e){f.params[e]&&f.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(f.emitterEventListeners[e])for(a=0;a<f.emitterEventListeners[e].length;a++)f.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);f.callPlugins&&f.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},f.on=function(e,a){return e=p(e),f.emitterEventListeners[e]||(f.emitterEventListeners[e]=[]),f.emitterEventListeners[e].push(a),f},f.off=function(e,a){var t;if(e=p(e),"undefined"==typeof a)return f.emitterEventListeners[e]=[],f;if(f.emitterEventListeners[e]&&0!==f.emitterEventListeners[e].length){for(t=0;t<f.emitterEventListeners[e].length;t++)f.emitterEventListeners[e][t]===a&&f.emitterEventListeners[e].splice(t,1);return f}},f.once=function(e,a){e=p(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),f.off(e,t)};return f.on(e,t),f},f.a11y={makeFocusable:function(e){return e[0].tabIndex="0",e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(v(e.target).is(f.params.nextButton)?(f.onClickNext(e),f.a11y.notify(f.isEnd?f.params.lastSlideMsg:f.params.nextSlideMsg)):v(e.target).is(f.params.prevButton)&&(f.onClickPrev(e),f.a11y.notify(f.isBeginning?f.params.firstSlideMsg:f.params.prevSlideMsg)))},liveRegion:v('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=f.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){if(f.params.nextButton){var e=v(f.params.nextButton);f.a11y.makeFocusable(e),f.a11y.addRole(e,"button"),f.a11y.addLabel(e,f.params.nextSlideMsg)}if(f.params.prevButton){var a=v(f.params.prevButton);f.a11y.makeFocusable(a),f.a11y.addRole(a,"button"),f.a11y.addLabel(a,f.params.prevSlideMsg)}v(f.container).append(f.a11y.liveRegion)},destroy:function(){f.a11y.liveRegion&&f.a11y.liveRegion.length>0&&f.a11y.liveRegion.remove()}},f.init=function(){f.params.loop&&f.createLoop(),f.updateContainerSize(),f.updateSlidesSize(),f.updatePagination(),f.params.scrollbar&&f.scrollbar&&f.scrollbar.set(),"slide"!==f.params.effect&&f.effects[f.params.effect]&&(f.params.loop||f.updateProgress(),f.effects[f.params.effect].setTranslate()),f.params.loop?f.slideTo(f.params.initialSlide+f.loopedSlides,0,f.params.runCallbacksOnInit):(f.slideTo(f.params.initialSlide,0,f.params.runCallbacksOnInit),0===f.params.initialSlide&&(f.parallax&&f.params.parallax&&f.parallax.setTranslate(),f.lazy&&f.params.lazyLoading&&(f.lazy.load(),f.lazy.initialImageLoaded=!0))),f.attachEvents(),f.params.observer&&f.support.observer&&f.initObservers(),f.params.preloadImages&&!f.params.lazyLoading&&f.preloadImages(),f.params.autoplay&&f.startAutoplay(),f.params.keyboardControl&&f.enableKeyboardControl&&f.enableKeyboardControl(),f.params.mousewheelControl&&f.enableMousewheelControl&&f.enableMousewheelControl(),f.params.hashnav&&f.hashnav&&f.hashnav.init(),f.params.a11y&&f.a11y&&f.a11y.init(),f.emit("onInit",f)},f.cleanupStyles=function(){f.container.removeClass(f.classNames.join(" ")).removeAttr("style"),f.wrapper.removeAttr("style"),f.slides&&f.slides.length&&f.slides.removeClass([f.params.slideVisibleClass,f.params.slideActiveClass,f.params.slideNextClass,f.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),f.paginationContainer&&f.paginationContainer.length&&f.paginationContainer.removeClass(f.params.paginationHiddenClass),f.bullets&&f.bullets.length&&f.bullets.removeClass(f.params.bulletActiveClass),f.params.prevButton&&v(f.params.prevButton).removeClass(f.params.buttonDisabledClass),f.params.nextButton&&v(f.params.nextButton).removeClass(f.params.buttonDisabledClass),f.params.scrollbar&&f.scrollbar&&(f.scrollbar.track&&f.scrollbar.track.length&&f.scrollbar.track.removeAttr("style"),f.scrollbar.drag&&f.scrollbar.drag.length&&f.scrollbar.drag.removeAttr("style"))},f.destroy=function(e,a){f.detachEvents(),f.stopAutoplay(),f.params.loop&&f.destroyLoop(),a&&f.cleanupStyles(),f.disconnectObservers(),f.params.keyboardControl&&f.disableKeyboardControl&&f.disableKeyboardControl(),f.params.mousewheelControl&&f.disableMousewheelControl&&f.disableMousewheelControl(),f.params.a11y&&f.a11y&&f.a11y.destroy(),f.emit("onDestroy"),e!==!1&&(f=null)},f.init(),f}};a.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),r=(e.match(/(iPod)(.*OS\s([\d_]+))?/),!t&&e.match(/(iPhone\sOS)\s([\d_]+)/));return{ios:t||r||t,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var t=(function(){var e=function(e){var a=this,t=0;for(t=0;t<e.length;t++)a[t]=e[t];return a.length=e.length,this},a=function(a,t){var r=[],s=0;if(a&&!t&&a instanceof e)return a;if(a)if("string"==typeof a){var n,i,o=a.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),(0===o.indexOf("<td")||0===o.indexOf("<th"))&&(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),i=document.createElement(l),i.innerHTML=a,s=0;s<i.childNodes.length;s++)r.push(i.childNodes[s])}else for(n=t||"#"!==a[0]||a.match(/[ .<>:~]/)?(t||document).querySelectorAll(a):[document.getElementById(a.split("#")[1])],s=0;s<n.length;s++)n[s]&&r.push(n[s])}else if(a.nodeType||a===window||a===document)r.push(a);else if(a.length>0&&a[0].nodeType)for(s=0;s<a.length;s++)r.push(a[s]);return new e(r)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.add(a[t]);return this},removeClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.remove(a[t]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.toggle(a[t]);return this},attr:function(e,a){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var t=0;t<this.length;t++)if(2===arguments.length)this[t].setAttribute(e,a);else for(var r in e)this[t][r]=e[r],this[t].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var a=0;a<this.length;a++)this[a].removeAttribute(e);return this},data:function(e,a){if("undefined"==typeof a){if(this[0]){var t=this[0].getAttribute("data-"+e);return t?t:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}return void 0}for(var r=0;r<this.length;r++){var s=this[r];s.dom7ElementDataStorage||(s.dom7ElementDataStorage={}),s.dom7ElementDataStorage[e]=a}return this},transform:function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this},on:function(e,t,r,s){function n(e){var s=e.target;if(a(s).is(t))r.call(s,e);else for(var n=a(s).parents(),i=0;i<n.length;i++)a(n[i]).is(t)&&r.call(n[i],e)}var i,o,l=e.split(" ");for(i=0;i<this.length;i++)if("function"==typeof t||t===!1)for("function"==typeof t&&(r=arguments[1],s=arguments[2]||!1),o=0;o<l.length;o++)this[i].addEventListener(l[o],r,s);else for(o=0;o<l.length;o++)this[i].dom7LiveListeners||(this[i].dom7LiveListeners=[]),this[i].dom7LiveListeners.push({listener:r,liveListener:n}),this[i].addEventListener(l[o],n,s);return this},off:function(e,a,t,r){for(var s=e.split(" "),n=0;n<s.length;n++)for(var i=0;i<this.length;i++)if("function"==typeof a||a===!1)"function"==typeof a&&(t=arguments[1],r=arguments[2]||!1),this[i].removeEventListener(s[n],t,r);else if(this[i].dom7LiveListeners)for(var o=0;o<this[i].dom7LiveListeners.length;o++)this[i].dom7LiveListeners[o].listener===t&&this[i].removeEventListener(s[n],this[i].dom7LiveListeners[o].liveListener,r);return this},once:function(e,a,t,r){function s(i){t(i),n.off(e,a,s,r)}var n=this;"function"==typeof a&&(a=!1,t=arguments[1],r=arguments[2]),n.on(e,a,s,r)},trigger:function(e,a){for(var t=0;t<this.length;t++){var r;try{r=new window.CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0})}catch(s){r=document.createEvent("Event"),r.initEvent(e,!0,!0),r.detail=a}this[t].dispatchEvent(r)}return this},transitionEnd:function(e){function a(n){if(n.target===this)for(e.call(this,n),t=0;t<r.length;t++)s.off(r[t],a)}var t,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=this;if(e)for(t=0;t<r.length;t++)s.on(r[t],a);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],a=e.getBoundingClientRect(),t=document.body,r=e.clientTop||t.clientTop||0,s=e.clientLeft||t.clientLeft||0,n=window.pageYOffset||e.scrollTop,i=window.pageXOffset||e.scrollLeft;return{top:a.top+n-r,left:a.left+i-s}}return null},css:function(e,a){var t;if(1===arguments.length){if("string"!=typeof e){for(t=0;t<this.length;t++)for(var r in e)this[t].style[r]=e[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(t=0;t<this.length;t++)this[t].style[e]=a;return this}return this},each:function(e){for(var a=0;a<this.length;a++)e.call(this[a],a,this[a]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var a=0;a<this.length;a++)this[a].innerHTML=e;return this},is:function(t){if(!this[0])return!1;var r,s;if("string"==typeof t){var n=this[0];if(n===document)return t===document;if(n===window)return t===window;if(n.matches)return n.matches(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(n.mozMatchesSelector)return n.mozMatchesSelector(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);for(r=a(t),s=0;s<r.length;s++)if(r[s]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof e){for(r=t.nodeType?[t]:t,s=0;s<r.length;s++)if(r[s]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],a=0;null!==(e=e.previousSibling);)1===e.nodeType&&a++;return a}return void 0},eq:function(a){if("undefined"==typeof a)return this;var t,r=this.length;return a>r-1?new e([]):0>a?(t=r+a,new e(0>t?[]:[this[t]])):new e([this[a]])},append:function(a){var t,r;for(t=0;t<this.length;t++)if("string"==typeof a){var s=document.createElement("div");for(s.innerHTML=a;s.firstChild;)this[t].appendChild(s.firstChild)}else if(a instanceof e)for(r=0;r<a.length;r++)this[t].appendChild(a[r]);else this[t].appendChild(a);return this},prepend:function(a){var t,r;for(t=0;t<this.length;t++)if("string"==typeof a){var s=document.createElement("div");for(s.innerHTML=a,r=s.childNodes.length-1;r>=0;r--)this[t].insertBefore(s.childNodes[r],this[t].childNodes[0])}else if(a instanceof e)for(r=0;r<a.length;r++)this[t].insertBefore(a[r],this[t].childNodes[0]);else this[t].insertBefore(a,this[t].childNodes[0]);return this},insertBefore:function(e){for(var t=a(e),r=0;r<this.length;r++)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0]);else if(t.length>1)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[r].cloneNode(!0),t[s])},insertAfter:function(e){for(var t=a(e),r=0;r<this.length;r++)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0].nextSibling);else if(t.length>1)for(var s=0;s<t.length;s++)t[s].parentNode.insertBefore(this[r].cloneNode(!0),t[s].nextSibling)},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var r=[],s=this[0];if(!s)return new e([]);for(;s.nextElementSibling;){var n=s.nextElementSibling;t?a(n).is(t)&&r.push(n):r.push(n),s=n}return new e(r)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&a(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var r=[],s=this[0];if(!s)return new e([]);for(;s.previousElementSibling;){var n=s.previousElementSibling;t?a(n).is(t)&&r.push(n):r.push(n),s=n}return new e(r)},parent:function(e){for(var t=[],r=0;r<this.length;r++)e?a(this[r].parentNode).is(e)&&t.push(this[r].parentNode):t.push(this[r].parentNode);return a(a.unique(t))},parents:function(e){for(var t=[],r=0;r<this.length;r++)for(var s=this[r].parentNode;s;)e?a(s).is(e)&&t.push(s):t.push(s),s=s.parentNode;return a(a.unique(t))},find:function(a){for(var t=[],r=0;r<this.length;r++)for(var s=this[r].querySelectorAll(a),n=0;n<s.length;n++)t.push(s[n]);return new e(t)},children:function(t){for(var r=[],s=0;s<this.length;s++)for(var n=this[s].childNodes,i=0;i<n.length;i++)t?1===n[i].nodeType&&a(n[i]).is(t)&&r.push(n[i]):1===n[i].nodeType&&r.push(n[i]);return new e(a.unique(r))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,r=this;for(e=0;e<arguments.length;e++){var s=a(arguments[e]);for(t=0;t<s.length;t++)r[r.length]=s[t],r.length++}return r}},a.fn=e.prototype,a.unique=function(e){for(var a=[],t=0;t<e.length;t++)-1===a.indexOf(e[t])&&a.push(e[t]);return a},a}()),r=["jQuery","Zepto","Dom7"],s=0;s<r.length;s++)window[r[s]]&&e(window[r[s]]);var n;n="undefined"==typeof t?window.Dom7||window.Zepto||window.jQuery:t,n&&("transitionEnd"in n.fn||(n.fn.transitionEnd=function(e){function a(n){if(n.target===this)for(e.call(this,n),t=0;t<r.length;t++)s.off(r[t],a)}var t,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=this;if(e)for(t=0;t<r.length;t++)s.on(r[t],a);return this}),"transform"in n.fn||(n.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition"in n.fn||(n.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this})),window.Swiper=a}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){return window.Swiper}),angular.module("kard").controller("NavbarController",["$scope","$state","$localStorage","userService","$rootScope","$window","loginService",function(e,a,t,r,s,n,i){function o(e){window.matchMedia("(max-height: 380px)").matches||(e.stopPropagation(),e.preventDefault())}e.currentState=a.current.name,e.userName=t.user_name,t.session_key&&r.getUser(t.session_key).then(function(r){0==r.status?a.go("home"):2==r.status?i.logout().then(function(){s.ActiveSession=!1,a.go("home"),a.reload()}):(t.user_name=r.data.first_name,e.userName=r.data.first_name)}),t.session_key?(s.loggedIn=!0,s.ActiveSession=!0):s.loggedIn=!1,e.showMenu=!1,window.matchMedia("(max-width: 1024px)").matches&&(e.showMenu=!0),e.showMenuCheck=function(){document.activeElement&&document.activeElement.blur(),document.getElementById("calculateCard_value")&&document.getElementById("calculateCard_value").blur(),document.getElementById("email")&&document.getElementById("email").blur(),window.matchMedia("(max-width: 1024px)").matches?(document.getElementById("wrap").className.match(/(?:^|\s)show-off-can-menu(?!\S)/)?(document.getElementById("wrap").className=document.getElementById("wrap").className.replace(/(?:^|\s)show-off-can-menu(?!\S)/g,""),document.getElementById("wrap").removeAttribute("style")):(document.getElementById("wrap").className+=" show-off-can-menu",document.getElementById("wrap").removeAttribute("style")),document.getElementById("kardMenuItems").className.match(/(?:^|\s)show-menu(?!\S)/)?document.getElementById("kardMenuItems").className=document.getElementById("kardMenuItems").className.replace(/(?:^|\s)show-menu(?!\S)/g,""):document.getElementById("kardMenuItems").className+=" show-menu"):e.showMenu=e.showMenu?!1:!0
},document.getElementById("overlayCloseNav")&&(document.getElementById("overlayCloseNav").addEventListener("wheel",o),document.getElementById("overlayCloseNav").addEventListener("touchstart",o)),document.getElementById("kardMenuItems")&&(document.getElementById("kardMenuItems").addEventListener("wheel",o),document.getElementById("kardMenuItems").addEventListener("touchmove",o)),e.$on("OUTSIDECLICKED",function(){e.showMenu=window.matchMedia("(max-width: 1024px)").matches?!0:!1,e.$apply()})}]),angular.module("kard").filter("startsWithLetter",function(){return function(e,a){if(a){for(var t=a.split(" "),r="^.*?\\b"+t[0],s=1;s<t.length;s++)r=r+".*?\\b"+t[s];r+=".*?$",r=new RegExp(r,"gi");for(var n=[],s=0;s<e.length;s++){var i=e[s];r.test(i.card_name)&&n.push(i)}return n}return e}}),angular.module("kard").directive("ngEnter",function(){return function(e,a,t){a.bind("keydown keypress",function(a){13===a.which&&(e.$apply(function(){e.$eval(t.ngEnter)}),a.preventDefault())})}}),angular.module("kard").directive("hovercard",function(){return{restrict:"E",transclude:!0,templateUrl:"angular-hovercard.tmpl",scope:!0,link:function(e,a,t){e.show={},e.show.card=!1,e.hoverTmplUrl=t.hoverTmplUrl,e.onHoverIn=e.$eval(t.onHoverIn),e.onHoverOut=e.$eval(t.onHoverOut);var r=t.placement||"bottomRight";if(e.hoverLabelStyle={},t.labelColor&&(e.hoverLabelStyle.color=t.labelColor),e.hoverCardStyle={},t.background&&(e.hoverCardStyle.background=t.background),t.width&&(e.hoverCardStyle.width=t.width),r){var s=r.replace(/([A-Z])/g," $1").toLowerCase().split(" "),n={};n[s[0]]=!0,n[s[1]]=!0,n.bottom&&(e.hoverCardStyle.bottom="",e.hoverCardStyle.top="-1em",e.hoverCardStyle["padding-bottom"]="",e.hoverCardStyle["padding-top"]="3em"),n.top&&(e.hoverCardStyle.bottom="-1em",e.hoverCardStyle.top="",e.hoverCardStyle["padding-bottom"]="3em",e.hoverCardStyle["padding-top"]=""),n.left&&(e.hoverCardStyle.left="",e.hoverCardStyle.right="-1em"),n.right&&(e.hoverCardStyle.left="-1em",e.hoverCardStyle.right="")}}}}).directive("validateEmail",function(){var e=/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return{require:"ngModel",restrict:"",link:function(a,t,r,s){s&&s.$validators.email&&(s.$validators.email=function(a){return s.$isEmpty(a)||e.test(a)})}}}).directive("outsideClickHandler",["$window",function(e){return{link:function(a,t){function r(e){e.stopPropagation(),t[0].contains(e.target)||(a.$emit("OUTSIDECLICKED",e.target),a.$broadcast("OUTSIDECLICKED",e.target))}var s=angular.element(e),n="ontouchstart"in window||"onmsgesturechange"in window;n?s.on("touchend",r):s.on("click",r),a.$on("$destroy",function(){s.off("click")})}}}]).directive("syncFocusWith",["$timeout","$rootScope",function(){return{restrict:"A",scope:{focusValue:"=syncFocusWith"},link:function(e,a){e.$watch("focusValue",function(e,t){e!==!0||t?e===!1&&t&&a[0].blur():a[0].focus()})}}}]),angular.module("ngTinyScrollbar",[]).provider("scrollbar",function(){this.defaults={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1,alwaysVisible:!0,autoUpdate:!1},this.$get=function(){return this}}).directive("scrollbar",["$window","$timeout","$parse","$animate","scrollbar",function(e,a,t,r,s){var n=function(){var e="";return e=window.matchMedia("(min-width: 1025px)").matches?'<div class="scroll-bar"><div class="scroll-thumb"></div></div><div class="scroll-viewport"><div class="scroll-overview" ng-transclude></div></div>':'<div class="scroll-viewport-touch" ng-transclude></div>'};return{restrict:"A",transclude:!0,template:n,controller:["$scope","$element","$attrs",function(n,i,o){function l(){b.contentRatio<=1&&b.contentPosition>b.contentSize-b.viewportSize?b.contentPosition=b.contentSize-b.viewportSize:b.contentRatio>1&&b.contentPosition>0&&(b.contentPosition=0)}function d(){E&&S.on("touchstart",p),T.on("mousedown",u),x.on("mousedown",h),angular.element(e).on("resize",c),b.options.wheel&&i.on(I,m),b.options.autoUpdate&&MutationObserver&&!function(){var e,t=C[0].offsetWidth,r=C[0].offsetHeight,s=new MutationObserver(function(){(t!==C[0].offsetWidth||r!==C[0].offsetHeight)&&(a.cancel(e),e=a(function(){t=C[0].offsetWidth,r=C[0].offsetHeight,b.update()}))});s.observe(i[0],{childList:!0,subtree:!0,characterData:!0,attributes:!0})}()}function c(){b.update()}function p(a){var t=a&&a.originalEvent||a||e.event;1===t.touches.length&&(a.stopPropagation(),u(t.touches[0]))}function u(e){1==e.which?(y.addClass("scroll-no-select"),i.addClass("scroll-no-select"),b.options.alwaysVisible||x.addClass("visible"),P=$?e.pageX:e.pageY,b.thumbPosition=parseInt(T.css(D),10)||0,E&&(k.on("touchmove",g),k.on("touchend",f)),k.on("mousemove",h),k.on("mouseup",f),T.on("mouseup",f)):(P=$?e.pageX:e.pageY,b.thumbPosition=parseInt(T.css(D),10)||0,E&&(k.on("touchmove",g),k.on("touchend",f)))}function m(t){if(!(b.contentRatio>=1)){b.options.alwaysVisible||(w&&a.cancel(w),x.addClass("visible"),w=a(function(){x.removeClass("visible")},100));var r=t&&t.originalEvent||t||e.event,s=b.options.axis.toUpperCase(),n={X:r.deltaX,Y:r.deltaY},o=0==r.deltaMode?b.options.wheelSpeed:1;b.options.scrollInvert&&(o*=-1),"mousewheel"===I&&(n.Y=-1*r.wheelDelta/40,r.wheelDeltaX&&(n.X=-1*r.wheelDeltaX/40)),n.X*=-1/o,n.Y*=-1/o;var d=n[s];b.contentPosition-=d*b.options.wheelSpeed,b.contentPosition=Math.min(b.contentSize-b.viewportSize,Math.max(0,b.contentPosition)),i[0].dispatchEvent(M),l(),T.css(D,b.contentPosition/b.trackRatio+"px"),C.css(D,-b.contentPosition+"px"),(b.options.wheelLock||b.contentPosition!==b.contentSize-b.viewportSize&&0!==b.contentPosition)&&r.preventDefault()}}function g(a){var t=a&&a.originalEvent||a||e.event;1===t.touches.length&&(a.preventDefault(),h(t.touches[0]))}function h(e){if(!(b.contentRatio>=1)){var a=$?e.pageX:e.pageY,t=a-P;(b.options.scrollInvert&&"mousemove"===e.type||"mousemove"!==e.type&&!b.options.scrollInvert)&&(t=P-a);var r=Math.min(b.trackSize-b.thumbSize,Math.max(0,b.thumbPosition+t));b.contentPosition=r*b.trackRatio,i[0].dispatchEvent(M),l(),T.css(D,r+"px"),C.css(D,-b.contentPosition+"px")}}function f(){y.removeClass("scroll-no-select"),i.removeClass("scroll-no-select"),b.options.alwaysVisible||x.removeClass("visible"),k.off("mousemove",h),k.off("mouseup",f),T.off("mouseup",f),k.off("touchmove",g),k.off("ontouchend",f)}var v=o.scrollbar;v=v?t(v)(n):{},this.options=angular.extend({},s.defaults,v),this._defaults=s.defaults;var w,b=this,y=angular.element(document.querySelectorAll("body")[0]),k=angular.element(document),S=angular.element(i[0].querySelectorAll(".scroll-viewport")[0]),C=angular.element(i[0].querySelectorAll(".scroll-overview")[0]),x=angular.element(i[0].querySelectorAll(".scroll-bar")[0]),T=angular.element(i[0].querySelectorAll(".scroll-thumb")[0]),P=0,$="x"===this.options.axis,E="ontouchstart"in e,I="onwheel"in document?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",_=$?"width":"height",F=_.charAt(0).toUpperCase()+_.slice(1).toLowerCase(),D=$?"left":"top",M=document.createEvent("HTMLEvents");M.initEvent("move",!0,!0),this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.initialize=function(){return this.options.alwaysVisible||x.css("opacity",1),b.update(),d(),b},this.update=function(e){if(this.viewportSize=S.prop("offset"+F),this.contentSize=C.prop("scroll"+F),this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,P=x.prop("offsetTop"),x.toggleClass("disable",this.contentRatio>=1||isNaN(this.contentRatio)),!this.options.alwaysVisible&&this.contentRatio<1&&this.viewportSize>0&&r.addClass(x,"visible").then(function(){r.removeClass(x,"visible"),n.$digest()}),null!=e)switch(e){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;default:this.contentPosition=parseInt(e,10)||0}return l(),T.css(D,b.contentPosition/b.trackRatio+"px"),x.css(_,b.trackSize+"px"),T.css(_,b.thumbSize+"px"),C.css(D,-b.contentPosition+"px"),this},this.cleanup=function(){S.off("touchstart",p),T.off("mousedown",u),x.off("mousedown",h),angular.element(e).off("resize",c),i.off(I,m),b.options.alwaysVisible=!0,f()}}],link:function(a,t,r,s){var n=e.getComputedStyle(t[0]).getPropertyValue("position");"relative"!==n&&"absolute"!==n&&t.css("position","relative"),window.matchMedia("(min-width: 1024px)").matches&&s.initialize(),t.on("$destroy",function(){s.cleanup()})}}}]),function(e,a){"undefined"!=typeof module&&module.exports?module.exports=a(require("angular")):"function"==typeof define&&define.amd?define(["angular"],a):a(e.angular)}(window,function(e){e.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","KardListService","ngDialog","$state",function(a,t,r,s,n,i,o,l,d){var c=40,p=39,u=38,m=37,g=27,h=13,f=9,v=3,w=524288,b=500,y=200,k="autocomplete-required",S="Searching...",C="No results found",x="/angucomplete-alt/index.html";return i.put(x,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" name={{inputName}} ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{type}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div>      <div class="angucomplete-title angucomplete-calculator-title" ng-if="!matchClass">{{ result.title }}</div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",disableInput:"=",initialValue:"@",localData:"=",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inWallet:"@",primaryCard:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"@",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",inputName:"@"},templateUrl:function(e,a){return a.templateUrl||x},link:function(t,i,x,T){function P(e){return e.which?e.which:e.keyCode}function $(e){"function"==typeof t.selectedObject?t.selectedObject(e):t.selectedObject=e,M(e?!0:!1)}function E(e){return function(a){return t[e]?t[e](a):a}}function I(e){$({originalObject:e}),t.clearSelected&&(t.searchStr=null),H()}function _(e){return t.titleField.split(",").map(function(a){return F(e,a)}).join(" ")}function F(e,a){var t,r;return a?(t=a.split("."),r=e,t.forEach(function(e){r=r[e]})):r=e,r}function D(e,a){var r,n,i;return i=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),e?(n=e.match(i),r=n?e.replace(i,'<span class="'+t.matchClass+'">'+n[0]+"</span>"):e,s.trustAsHtml(r)):void 0}function M(e){t.notEmpty=e,la=t.searchStr,t.fieldRequired&&T&&T.$setValidity(oa,e)}function A(e){var a=P(e);if(a!==m&&a!==p)if(a===u||a===h)e.preventDefault();else if(a===c)e.preventDefault(),!t.showDropdown&&t.searchStr&&t.searchStr.length>=na&&(Y(),t.searching=!0,Z(t.searchStr));else if(a===g)H(),t.$apply(function(){sa.val(t.searchStr)});else{if(0===na&&!t.searchStr)return;t.searchStr&&""!==t.searchStr?t.searchStr.length>=na&&(Y(),ia&&n.cancel(ia),t.searching=!0,ia=n(function(){Z(t.searchStr)},t.pause)):t.showDropdown=!1,la&&la!==t.searchStr&&!t.clearSelected&&$(void 0)}}function z(e){!t.overrideSuggestions||t.selectedObject&&t.selectedObject.originalObject===t.searchStr||(e&&e.preventDefault(),I(t.searchStr))}function O(e){var a=getComputedStyle(e);return e.offsetHeight+parseInt(a.marginTop,10)+parseInt(a.marginBottom,10)}function R(){return ca.getBoundingClientRect().top+parseInt(getComputedStyle(ca).maxHeight,10)}function L(){return i[0].querySelectorAll(".angucomplete-row")[t.currentIndex]}function N(){return L().getBoundingClientRect().top-(ca.getBoundingClientRect().top+parseInt(getComputedStyle(ca).paddingTop,10))}function W(e){ca.scrollTop=ca.scrollTop+e}function B(){var e=t.results[t.currentIndex];sa.val(t.matchClass?_(e.originalObject):e.title)}function q(e){var a=P(e),r=null,s=null;a===h&&t.results?(t.currentIndex>=0&&t.currentIndex<t.results.length?(e.preventDefault(),t.selectResult(t.results[t.currentIndex])):(z(e),H()),t.$apply()):a===c&&t.results?(e.preventDefault(),t.currentIndex+1<t.results.length&&t.showDropdown&&(t.$apply(function(){t.currentIndex++,B()}),pa&&(r=L(),R()<r.getBoundingClientRect().bottom&&W(O(r))))):a===u&&t.results?(e.preventDefault(),t.currentIndex>=1?(t.$apply(function(){t.currentIndex--,B()}),pa&&(s=N(),0>s&&W(s-1))):0===t.currentIndex&&t.$apply(function(){t.currentIndex=-1,sa.val(t.searchStr)})):a===f&&(t.results&&t.results.length>0&&t.showDropdown?-1===t.currentIndex&&t.overrideSuggestions?z():(-1===t.currentIndex&&(t.currentIndex=0),t.selectResult(t.results[t.currentIndex]),t.$digest()):t.searchStr&&t.searchStr.length>0&&z())}function j(e){return function(a,r,s,n){r||s||n||(a=a.data),t.searching=!1,Q(F(ta(a),t.remoteUrlDataField),e)}}function U(e,a,r,s){a||r||s||(a=e.status),0!==a&&(t.remoteUrlErrorCallback?t.remoteUrlErrorCallback(e,a,r,s):console&&console.error&&console.error("http error"))}function K(){da&&da.resolve()}function G(e){var s={},n=t.remoteUrl+encodeURIComponent(e);t.remoteUrlRequestFormatter&&(s={params:t.remoteUrlRequestFormatter(e)},n=t.remoteUrl),t.remoteUrlRequestWithCredentials&&(s.withCredentials=!0),K(),da=a.defer(),s.timeout=da.promise,r.get(n,s).success(j(e)).error(U)}function V(e){K(),da=a.defer(),t.remoteApiHandler(e,da.promise).then(j(e))["catch"](U)}function H(){t.showDropdown=!1,t.results=[],ca&&(ca.scrollTop=0)}function Y(){t.showDropdown=!0,t.currentIndex=-1,t.results=[]}function X(e){var a,r,s,n,i=t.searchFields.split(","),o=[];for(a=0;a<t.localData.length;a++){for(r=!1,s=0;s<i.length;s++)n=F(t.localData[a],i[s])||"",r=r||n.toLowerCase().indexOf(e.toLowerCase())>=0;r&&(o[o.length]=t.localData[a])}t.searching=!1,Q(o,e)}function J(e,a,r){if(r)for(var s in a)if(a[s].toLowerCase()===r.toLowerCase())return void t.selectResult(e)}function Z(e){!e||e.length<na||(t.localData?t.$apply(function(){X(e)}):t.remoteApiHandler?V(e):G(e))}function Q(e,a){var r,s,n,i,o,l,d,c;if(e&&e.length>0)for(t.results=[],r=0;r<e.length;r++)t.titleField&&""!==t.titleField&&(i=o=_(e[r])),s="",t.descriptionField&&(s=l=F(e[r],t.descriptionField)),n="",t.imageField&&(n=F(e[r],t.imageField)),t.inWallet&&(d=F(e[r],t.inWallet)),t.primaryCard&&(c=F(e[r],t.primaryCard)),t.matchClass&&(o=D(i,a),l=D(s,a)),t.results[t.results.length]={title:o,description:l,image:n,inWallet:d,primaryCard:c,originalObject:e[r]},t.autoMatch&&J(t.results[t.results.length-1],{title:i,desc:s||""},t.searchStr);else t.results=[]}function ea(){t.localData?Q(t.localData,""):t.remoteApiHandler?V(""):G("")}var aa,ta,ra,sa=i.find("input"),na=v,ia=null,oa=k,la=null,da=null,ca=i[0].querySelector(".angucomplete-dropdown"),pa=!1,ua=null;i.on("mousedown",function(e){ua=e.target.id}),t.currentIndex=null,t.searching=!1,t.searchStr=t.initialValue,ra=t.$watch("initialValue",function(e){e&&e.length>0&&(t.searchStr=t.initialValue,M(!0),ra())}),t.$on("angucomplete-alt:clearInput",function(e,a){a?t.id===a&&(t.searchStr=null,H()):(t.searchStr=null,H())}),t.onFocusHandler=function(){t.focusIn&&t.focusIn(),0!==na||t.searchStr&&0!==t.searchStr.length||(t.showDropdown=!0,ea())},t.hideResults=function(){ua===t.id+"_dropdown"?ua=null:(aa=n(function(){H(),t.$apply(function(){t.searchStr&&t.searchStr.length>0&&sa.val(t.searchStr)})},y),K(),t.focusOut&&t.focusOut(),t.overrideSuggestions&&t.searchStr&&t.searchStr.length>0&&-1===t.currentIndex&&z())},t.resetHideResults=function(){aa&&n.cancel(aa)},t.hoverRow=function(e){t.currentIndex=e},t.addToWallet=function(e){console.log(e.originalObject),o.addToWallet(e.originalObject.id).then(function(a){console.log(a.data.message),t.message=a.data.message,t.name_of_card_added=e.originalObject.card_name,1==a.status&&(l.open({template:"successTemplate",scope:t,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),d.reload()}}),window.setTimeout(function(){l.closeAll()},3e3))})},t.removeFromWallet=function(e){o.removeFromWallet(e.originalObject.id).then(function(a){console.log(a.data.message),t.message=a.data.message,t.name_of_card_added=e.originalObject.card_name,1==a.status&&(l.open({template:"successTemplate",scope:t,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),d.reload()}}),window.setTimeout(function(){l.closeAll()},3e3))})},t.selectResult=function(a,r){r&&e.element(r.target).hasClass("btn-success")||r&&e.element(r.target).hasClass("btn-danger")?console.log("inside btn"):(t.matchClass&&(a.title=_(a.originalObject),a.description=F(a.originalObject,t.descriptionField)),t.searchStr=t.clearSelected?null:a.title,$(a),H())},t.inputChangeHandler=function(e){return e.length<na?H():0===e.length&&0===na&&(t.searching=!1,ea()),t.inputChanged&&(e=t.inputChanged(e)),e},t.fieldRequiredClass&&""!==t.fieldRequiredClass&&(oa=t.fieldRequiredClass),t.minlength&&""!==t.minlength&&(na=parseInt(t.minlength,10)),t.pause||(t.pause=b),t.clearSelected||(t.clearSelected=!1),t.overrideSuggestions||(t.overrideSuggestions=!1),t.fieldRequired&&T&&M(t.initialValue?!0:!1),t.type=x.type?x.type:"text",t.textSearching=x.textSearching?x.textSearching:S,t.textNoResults=x.textNoResults?x.textNoResults:C,t.maxlength=x.maxlength?x.maxlength:w,sa.on("keydown",q),sa.on("keyup",A),ta=E("remoteUrlResponseFormatter"),t.$on("$destroy",function(){M(!0)}),n(function(){var e=getComputedStyle(ca);pa=e.maxHeight&&"auto"===e.overflowY})}}}])}),angular.module("kard").service("userService",["$http","$q","$rootScope","BASE_URL","$localStorage",function(e,a,t,r){function s(t){var s=a.defer(),n=r+"profile-info/",i={"session-key":t};return e({method:"POST",url:n,headers:i}).success(function(e){s.resolve(e)}.bind(this)).error(function(e){return!e||angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),s.promise}return{getUser:s}}]),angular.module("kard").service("signupService",["$http","$q","$rootScope","BASE_URL","$localStorage","$window",function(e,a,t,r,s,n){function i(t){var s=a.defer(),n=r+"signup/",i={email:t.email,password:t.password,fname:t.fname,lname:t.lname,gender:t.gender,age:t.age};return console.log(i),e({method:"POST",url:n,data:i}).success(function(e){s.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),s.promise}function o(t){var s=a.defer(),n=r+"validate-mail/";console.log(t);var i={email:t};return e({method:"POST",url:n,data:i}).success(function(e){s.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),s.promise}function l(t,i,o,l,c,p){var u=a.defer(),m=r+"signup/",g={input_token:t,user_id:i,email:o,fname:l,lname:c,gender:p};return e({method:"POST",url:m,data:g}).success(function(e){1==e.status&&(d=e.data.session_key,s.userInfo=d,n.sessionStorage.userInfo=e.data.session_key,console.log(d)),u.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),u.promise}var d;return{signup:i,validateMail:o,signupFB:l}}]),angular.module("kard").config(["ezfbProvider",function(e){e.setInitParams({appId:"372146679641645",xfbml:!1})}]).controller("SignupController",["$scope","ezfb","$window","$location","$state","signupService","$localStorage","loginService","ngDialog","$timeout",function(e,a,t,r,s,n,i,o,l,d){e.signup={},e.apiWait=!1,e.signup.gender="1",e.signup.age="0",e.emailFocused=!1,e.pwdFocused=!1,e.pwd2Focused=!1,e.fnameFocused=!1,e.lnameFocused=!1,e.validMail=!0,i.$reset(),e.inputType="password",e.inputType2="password",e.hideShowPassword=function(){"password"==e.inputType?(e.inputType="text",e.glyphClass=!0):(e.inputType="password",e.glyphClass=!1)},e.hideShowPasswordConfirm=function(){"password"==e.inputType2?(e.inputType2="text",e.glyphClass2=!0):(e.inputType2="password",e.glyphClass2=!1)},e.validateMail=function(){console.log(e.signup),n.validateMail(e.signup.email).then(function(a){0==a.status?(e.messageOne=a.data.error_message,e.completeOne=!1,e.validMail=!1):1==a.status&&(e.completeOne=!0,e.messageOne="",e.validMail=!0)})},e.isChrome=!1;var c=window.chrome,p=window.navigator.vendor,u=window.navigator.userAgent.indexOf("OPR")>-1;e.isChrome=null!==c&&void 0!==c&&"Google Inc."===p&&0==u?!0:!1,e.installExtension=function(){e.isChrome?chrome.webstore.install("https://chrome.google.com/webstore/detail/jfmogobdbigfmanmkkkidnpcpdabgiag",function(a){console.log("Successfully installed"+a),e.extensionInstalled=!0,s.go("kard-cat-select")},function(e){console.log("Error in installation"+e),window.open("https://chrome.google.com/webstore/detail/kard/jfmogobdbigfmanmkkkidnpcpdabgiag"),s.go("kard-cat-select")}):(window.open("https://chrome.google.com/webstore/detail/kard/jfmogobdbigfmanmkkkidnpcpdabgiag"),s.go("kard-cat-select"))},e.signupUser=function(){console.log(e.signup),n.signup(e.signup).then(function(a){e.apiWait=!1,0==a.status?(e.signupError=!0,e.message=a.data.error_message):1==a.status&&(i.session_key=a.data.session_key,i.primary_card_check=!0,i.alreadyShownTransn=!1,o.init(),e.isChrome?l.open({template:"app/components/templates/install-extension-pop.html",scope:e,appendTo:".kard-form-wrapper",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),s.go("kard-cat-select")}}):s.go("kard-cat-select"))})},e.signupFB=function(){a.login(function(t){if("connected"==t.status&&t.authResponse){var r=t.authResponse.accessToken,c=t.authResponse.userID;a.api("/me",function(a){console.log(a),n.signupFB(r,c,a.email,a.first_name,a.last_name,a.gender).then(function(a){if(console.log(a),0==a.status){e.ngDialogMessage=a.data.error_message;var t=l.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:".kard-form-wrapper",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),s.go("login")}});d(function(){t.close()},4e3)}else if(1==a.status){i.session_key=a.data.session_key,i.primary_card_check=!0,i.alreadyShownTransn=!1,o.init();var r=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;r?l.open({template:"app/components/templates/install-extension-pop.html",scope:e,appendTo:".kard-form-wrapper",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),s.go("kard-cat-select")}}):s.go("kard-cat-select")}})})}},{scope:"public_profile,email,user_likes"})},e.logout=function(){a.logout(function(){updateLoginStatus(updateApiMe)})},e.installAddOn=function(){s.go("kard-cat-select")},e.smallDevice=!1,window.matchMedia("(max-width: 1024px)").matches&&(e.smallDevice=!0)}]),angular.module("kard").service("resetPasswordService",["$http","$q","$rootScope","BASE_URL",function(e,a,t,r){function s(t,s){console.log(t);var n=a.defer(),i=r+"reset-password/",o={token:s,password:t.password};return e({method:"POST",url:i,data:o}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}return{resetPassword:s}}]),angular.module("kard").controller("resetPasswordController",["$scope","resetPasswordService","$state","ngDialog","$stateParams",function(e,a,t,r,s){var n=s.token;e.apiWait=!1,e.resetPwdFunc=function(s){a.resetPassword(s,n).then(function(a){console.log(a),e.apiWait=!1,e.ngDialogMessage=a.data.message,console.log(e.ngDialogMessage),1==a.status?r.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:"#main",overlay:!0,preCloseCallback:function(){t.go("login")}}):0==a.status&&(e.errorMessage=a.data.error_message)})}}]),angular.module("kard").controller("ProfileController",["$scope","$state","$localStorage","userService","$rootScope",function(){}]),angular.module("kard").controller("MainController",["$scope","$localStorage","$state","$timeout","$window",function(e,a,t,r){e.waitingData=!0,e.loggedIn=a.session_key?!0:!1,e.extensionInstalled=!1,e.isChrome=!1;var s=window.chrome,n=window.navigator.vendor,i=window.navigator.userAgent.indexOf("OPR")>-1;e.isChrome=null!==s&&void 0!==s&&"Google Inc."===n&&0==i?!0:!1,e.isChrome&&(chrome.app&&chrome.app.isInstalled&&(e.extensionInstalled=!0),r(function(){document.getElementById("extensionIsInstalled")&&(e.extensionInstalled=!0)},500)),e.installExtension=function(){e.isChrome?(e.extensionInstalled=!0,chrome.webstore.install("https://chrome.google.com/webstore/detail/jfmogobdbigfmanmkkkidnpcpdabgiag",function(a){console.log("Successfully installed"+a),e.extensionInstalled=!0},function(a){console.log("Error in installation"+a),e.extensionInstalled=!1})):window.open("https://chrome.google.com/webstore/detail/kard/jfmogobdbigfmanmkkkidnpcpdabgiag")},r(function(){var a=new Swiper(".swiper-container-v",{speed:1e3,pagination:".swiper-pagination-v",paginationClickable:!0,preloadImages:!1,slidesPerView:"auto",direction:"vertical",mousewheelControl:!0,keyboardControl:!0,simulateTouch:!1,freeMode:!0,onTouchStart:function(){document.activeElement&&document.activeElement.blur(),document.getElementById("calculateCard_value")&&document.getElementById("calculateCard_value").blur()},watchSlidesProgress:!0,watchSlidesVisibility:!0});window.matchMedia("(max-width: 1024px)").matches&&(a.params.simulateTouch=!0,a.destroy(!0,!0),angular.element(document.getElementById("vSwiper")).removeClass("swiper-container"),angular.element(document.getElementById("wrap")).removeClass("swiper-wrapper"));new Swiper(".swiper-container-h",{direction:"horizontal",setWrapperSize:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,onlyExternal:!0,loop:!0,effect:"fade",fade:{crossFade:!0},pagination:".swiper-pagination-h",paginationClickable:!0,preloadImages:!1,lazyLoading:!0});window.matchMedia("(max-width: 1024px)").matches&&(e.smallDevice=!0),window.addEventListener("resize",function(){console.log("resize"),e.$apply(window.matchMedia("(max-width: 1024px)").matches?function(){e.smallDevice=!0}:function(){e.smallDevice=!1})}),r(function(){e.waitingData=!1},500)},2e3)}]),angular.module("kard").service("loginService",["$http","$q","$rootScope","BASE_URL","$localStorage","$window",function(e,a,t,r,s,n){function i(t){var i=a.defer(),o=r+"login/",l={email:t.email,password:t.password};return e({method:"POST",url:o,data:l}).success(function(e){p=e.data.session_key,s.userInfo=p,n.sessionStorage.userInfo=e.data.session_key,i.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),i.promise}function o(t,i,o,l,d,c){var u=a.defer(),m=r+"login/",g={input_token:t,user_id:i,email:o,fname:l,lname:d,gender:c};return e({method:"POST",url:m,data:g}).success(function(e){p=e.data.session_key,s.userInfo=p,n.sessionStorage.userInfo=e.data.session_key,u.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),u.promise}function l(){var t=a.defer(),i=r+"logout/",o={"session-key":s.session_key};return e({method:"POST",url:i,headers:o}).success(function(e){n.sessionStorage.userInfo=null,p=null,s.session_key=null,s.$reset(),t.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),s.$reset(),t.promise}function d(){return p}function c(){s.session_key&&(p=s.session_key)}var p;return c(),{login:i,loginFB:o,logout:l,getUserInfo:d,init:c}}]),angular.module("kard").controller("LoginController",["$scope","ezfb","loginService","$state","$localStorage","ngDialog","$timeout",function(e,a,t,r,s,n,i){e.loginError=!1,s.$reset(),e.rememberMe=!1,e.inputType="password",e.hideShowPassword=function(){"password"==e.inputType?(e.inputType="text",e.glyphClass=!0):(e.inputType="password",e.glyphClass=!1)},e.loginFunc=function(a){t.login(a).then(function(a){0==a.status?(e.loginError=!0,e.message="The email or password is incorrect."):1==a.status&&(s.session_key=a.data.session_key,r.go("home"))})},e.loginFB=function(){e.loginForm.$setPristine(),a.login(function(o){if("connected"==o.status&&o.authResponse){var l=o.authResponse.accessToken,d=o.authResponse.userID;a.api("/me",function(a){t.loginFB(l,d,a.email,a.first_name,a.last_name,a.gender).then(function(a){if(console.log(a),0==a.status){e.ngDialogMessage=a.data.error_message;var t=n.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:".kard-form-wrapper",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),e.loginForm.$setPristine()}});i(function(){t.close()},4e3)}else 1==a.status&&(s.session_key=a.data.session_key,r.go("home"))})})}},{scope:"public_profile,email,user_likes"})},e.smallDevice=!1,window.matchMedia("(max-width: 1024px)").matches&&(e.smallDevice=!0)}]),angular.module("kard").service("KardListService",["$http","$q","$rootScope","BASE_URL","$localStorage",function(e,a,t,r,s){function n(t){var n=a.defer(),i=r+"card-list/",o={card_category_id:t},l={"session-key":s.session_key};return e({method:"POST",url:i,data:o,headers:l}).success(function(e){var a=e;for(var t in a.data.cards)a.data.cards[t].card_features=JSON.parse(a.data.cards[t].card_features);n.resolve(a)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}function i(t){var n=a.defer(),i=r+"add-to-wallet/",o={card_id:t},l={"session-key":s.session_key};return e({method:"POST",url:i,data:o,headers:l}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}function o(t){var n=a.defer(),i=r+"remove-from-wallet/",o={card_id:t},l={"session-key":s.session_key};return e({method:"POST",url:i,data:o,headers:l}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")
}),n.promise}return{getAllCards:n,addToWallet:i,removeFromWallet:o}}]),angular.module("kard").controller("ListKardsController",["$scope","$stateParams","$rootScope","$window","KardListService","ngDialog","$state","$localStorage","KardDetailService",function(e,a,t,r,s,n,i,o){e.kardType=t.kardType,e.cards=[],e.apiWait=!0,e.primary_card_check=o.primary_card_check,e.confirmAddToWallet=function(a){console.log(a),e.detailOnly=!1,"string"==typeof a.card_features&&(a.card_features=JSON.parse(a.card_features)),e.data=a,n.open({template:"app/components/templates/card-detail-template.html",scope:e,appendTo:".mainContainer",overlay:!0,className:"ngdialog-theme-default half-width"})},e.showDetails=function(a){e.detailOnly=!0,"string"==typeof a.card_features&&(a.card_features=JSON.parse(a.card_features)),e.data=a,n.open({template:"app/components/templates/card-detail-template.html",scope:e,appendTo:".mainContainer",overlay:!0,className:"ngdialog-theme-default half-width"})},e.addToWallet=function(a,t){n.closeAll(),console.log(a+t),s.addToWallet(a).then(function(a){console.log(a.data.message),e.message=a.data.message,e.name_of_card_added=t,1==a.status?(n.open({template:"successTemplate",scope:e,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){e.apiWait=!1,i.go("kard-cat-select")}}),o.primary_card_check&&(o.primary_card_check=!1,e.primary_card_check=o.primary_card_check),window.setTimeout(function(){n.closeAll()},4e3)):2==a.status&&i.go("home")})},e.removeFromWalletConfirm=function(a){n.open({template:"app/components/templates/remove-from-wallet-confirm.html",scope:e,appendTo:".mainContainer",overlay:!0,data:String(a),preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,"")}})},e.removeCard=function(a){n.closeAll(),s.removeFromWallet(a).then(function(a){console.log(a.data.message),e.ngDialogMessage=a.data.message,1==a.status?(n.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){e.apiWait=!1,i.go("kard-cat-select")}}),window.setTimeout(function(){n.closeAll()},4e3)):2==a.status&&i.go("home")})},s.getAllCards(a.kardType).then(function(a){e.cards=a.data.cards,e.kardType=a.data.card_name,e.$broadcast("rebuild:me"),e.apiWait=!1})}]),angular.module("kard").service("KardWalletService",["$http","$q","$rootScope","BASE_URL","$localStorage",function(e,a,t,r,s){function n(){var t=a.defer(),n=r+"wallet/",i={"session-key":s.session_key};return e({method:"GET",url:n,headers:i}).success(function(e){var a=e;for(var r in a.data.card)a.data.card[r].card_features=JSON.parse(a.data.card[r].card_features);t.resolve(a)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),t.promise}function i(t){var n=a.defer(),i=r+"set-primary-card/",o={"session-key":s.session_key},l={card_id:t};return e({method:"POST",url:i,headers:o,data:l}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}return{getWallet:n,setAsPrimaryCard:i}}]),angular.module("kard").controller("KardWalletController",["$scope","KardWalletService","KardDetailService","KardListService","$localStorage","ngDialog","$timeout","$state",function(e,a,t,r,s,n,i,o){e.cards=[],e.apiWait=!0,e.setPrimaryCardcheck=function(){s.setPrimaryCard||e.noCards?e.goHome():n.open({template:"app/components/templates/ng-primary-card-pop.html",scope:e,showClose:!1,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){}})},e.goHome=function(){if(0!=s.alreadyShownTransn||e.noCards)o.go("home");else{s.alreadyShownTransn=!0;var a=n.open({template:"showTrnsnTemplate",appendTo:".mainContainer",overlay:!0,showClose:!1,closeByEscape:!1,closeByDocument:!1});i(function(){a.close(),o.go("home")},5e3)}},e.showDetails=function(a){e.detailOnly=!0,"string"==typeof a.card_features&&(a.card_features=JSON.parse(a.card_features)),e.data=a,n.open({template:"app/components/templates/card-detail-template.html",scope:e,appendTo:".mainContainer",overlay:!0,className:"ngdialog-theme-default half-width"})},e.confirmSetAsPrimaryCard=function(a){n.open({template:"app/components/templates/confirm-set-as-primaryCard.html",scope:e,appendTo:".mainContainer",overlay:!0,data:String(a),preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,"")}})},e.removeFromWalletConfirm=function(a){n.open({template:"app/components/templates/remove-from-wallet-confirm.html",scope:e,appendTo:".mainContainer",overlay:!0,data:String(a),preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,"")}})},e.removeCard=function(a){n.closeAll(),r.removeFromWallet(a).then(function(a){console.log(a.data.message),e.ngDialogMessage=a.data.message,1==a.status?(n.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){e.apiWait=!1,o.reload()}}),window.setTimeout(function(){n.closeAll()},4e3)):2==a.status&&o.go("home")})},e.setAsPrimaryCard=function(t){a.setAsPrimaryCard(t).then(function(a){e.apiWait=!1,1==a.status?(s.setPrimaryCard=!0,e.ngDialogMessage=a.data.message,n.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),o.reload()}}),n.closeAll()):2==a.status&&o.go("home")})},a.getWallet().then(function(a){e.apiWait=!1,0==a.status?e.message=a.message:1==a.status?(a.data.primary_card?s.setPrimaryCard=!0:(s.setPrimaryCard=!1,s.alreadyShownTransn=!1),e.setPrimaryCard=s.setPrimaryCard,0==a.data.card.length?e.noCards=!0:(angular.forEach(a.data.card,function(a,t){a.isOpen=0==t?!0:!1,e.cards.push(a)}),console.log(e.cards),e.primary_card_id=a.data.primary_card,e.$broadcast("rebuild:me"))):2==a.status&&o.go("home")}),e.$on("scrollbar.show",function(){console.log("Scrollbar show")}),e.$on("scrollbar.hide",function(){console.log("Scrollbar hide")})}]),angular.module("kard").service("KardDetailService",["$http","$q","$rootScope","BASE_URL","$localStorage",function(e,a,t,r,s){function n(t){var n=a.defer(),i=r+"card-list/",o={card_id:t},l={"session-key":s.session_key};return e({method:"POST",url:i,data:o,headers:l}).success(function(e){var a=e;for(var t in a.data)a.data[t].card_features=JSON.parse(a.data[t].card_features);n.resolve(a)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}return{getCardDetail:n}}]),angular.module("kard").controller("KardDetailController",["$scope","$state","$rootScope","ngDialog","KardDetailService","$stateParams","KardListService","$window",function(e,a,t,r,s,n,i,o){e.data=t.currentData,e.goBack=function(){o.history.back()},e.addToWallet=function(t){i.addToWallet(t).then(function(t){console.log(t.data.message),e.message=t.data.message,1==t.status?r.open({template:"successTemplate",scope:e,appendTo:".card-detail",overlay:!0,preCloseCallback:function(){a.go("kard-wallet")}}):1==t.status&&a.go("home")})},s.getCardDetail(n.id).then(function(a){e.data=a.data[0]})}]),angular.module("kard").service("KardCategoryListService",["$http","$q","$rootScope","BASE_URL","$localStorage",function(e,a,t,r,s){function n(){var t=a.defer(),n=r+"card-category-list/",i={"session-key":s.session_key};return e({method:"GET",url:n,headers:i}).success(function(e){t.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),t.promise}function i(t){var n=a.defer(),i=r+"search-card/",o={"session-key":s.session_key},l={value:t};return e({method:"POST",url:i,data:l,headers:o}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}return{getAllCardCategory:n,searchCard:i}}]),angular.module("kard").controller("KardCatSelectController",["$scope","KardCategoryListService","$rootScope","$state","ngDialog","KardDetailService","KardListService","$localStorage",function(e,a,t,r,s,n,i){a.getAllCardCategory().then(function(a){0==a.status?r.go("home"):e.cardCategory=a.data}),e.searchAutoComplete=function(e){return a.searchCard(e)},e.enterKeyPress=function(a){console.log(a),a&&(a.originalObject.card_features=JSON.parse(a.originalObject.card_features),e.data=a.originalObject,s.open({template:"app/components/templates/card-detail-template.html",scope:e,appendTo:".mainContainer",overlay:!0,className:"ngdialog-theme-default half-width"}),e.selectedCard="")},e.$watch("selectedCard",function(a){e.enterKeyPress(a)}),e.saveCardType=function(e){t.kardType=e},e.addToWallet=function(a,t){s.closeAll(),document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),i.addToWallet(a).then(function(a){if(console.log(a.data.message),e.message=a.data.message,e.name_of_card_added=t,1==a.status){var n=s.open({template:"successTemplate",scope:e,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),r.reload()}});window.setTimeout(function(){n.close()},4e3)}else 2==a.status&&r.go("home")})},e.removeFromWallet=function(a,t){s.closeAll(),i.removeFromWallet(a).then(function(a){if(console.log(a.data.message),e.message=a.data.message,e.name_of_card_added=t,1==a.status){var n=s.open({template:"successTemplate",scope:e,appendTo:".mainContainer",overlay:!0,preCloseCallback:function(){document.getElementsByTagName("body")[0].className.replace(/\bngdialog-open\b/,""),r.reload()}});window.setTimeout(function(){n.close()},4e3)}else 2==a.status&&r.go("home")})}}]),angular.module("kard").service("KardCategoryListService",["$http","$q","$rootScope","BASE_URL","$localStorage",function(e,a,t,r,s){function n(){var t=a.defer(),n=r+"card-category-list/",i={"session-key":s.session_key};return e({method:"GET",url:n,headers:i}).success(function(e){t.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),t.promise}function i(t){var n=a.defer(),i=r+"search-card/",o={"session-key":s.session_key},l={value:t};return e({method:"POST",url:i,data:l,headers:o}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}return{getAllCardCategory:n,searchCard:i}}]),angular.module("kard").service("KardCalculatorService",["$http","$q","$rootScope","BASE_URL","$localStorage",function(e,a,t,r,s){function n(t){var n=a.defer(),i=r+"kard-calculator/",o={id:t},l={"session-key":s.session_key};return e({method:"POST",url:i,data:o,headers:l}).success(function(e){var a=e;for(var t in a.data)a.data[t].card_features=JSON.parse(a.data[t].card_features);n.resolve(a)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}function i(t){var n=a.defer(),i=r+"auto-complete-shopping-site/",o={"session-key":s.session_key},l={value:t};return e({method:"POST",url:i,data:l,headers:o}).success(function(e){n.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),n.promise}return{getCards:n,getAutoFillWebsite:i}}]),angular.module("kard").controller("KardCalculatorController",["$scope","$window","KardCalculatorService","KardDetailService","$state","$rootScope","ngDialog","$timeout",function(e,a,t,r,s,n,i){function o(e){var a=0;e||(e=window.event),e.deltaY?a=-e.deltaY:e.wheelDelta?a=e.wheelDelta/60:e.detail&&(a=-e.detail/2);var t=document.getElementById("homeCalculatorSlide").getElementsByClassName("scroll-overview")[0].style.cssText;t.lastIndexOf(":")&&(t=parseInt(t.substring(t.lastIndexOf(":")+1,t.lastIndexOf(";"))),a>0&&0!==t&&e.stopPropagation())}e.message="",e.serverResponse=!1,e.currentState=s.current.name,e.calculatorPlaceholder=window.matchMedia("(max-width: 767px)").matches?"Where are you shopping?":"Where are you shopping? (Ex: JCrew, Starbucks, United Airlines etc)",e.enterKeyPress=function(a,r){e.cards=[],a?(e.apiWait=!0,t.getCards(a).then(function(a){e.apiWait=!1,0==a.status?s.go("home"):(a.data.error_message?e.message="No results found for your query!":e.serverResponse=!0,e.cards=a.data,0==e.cards.length&&(e.serverResponse=!1,e.message="You don't have any card having offer for "+r),e.$broadcast("rebuild:me"))})):(e.message="No results found for your query!",e.serverResponse=!1)},e.$watch("selectedSite",function(a){a&&e.enterKeyPress(a.originalObject.id,a.title)}),e.AutoFillWebsite=function(e){return t.getAutoFillWebsite(e)},e.inputChange=function(a){return e.message="",e.cards=[],e.$broadcast("rebuild:me"),a},e.showDetails=function(a){e.detailOnly=!0,"string"==typeof a.card_features&&(a.card_features=JSON.parse(a.card_features)),e.data=a,i.open({template:"app/components/templates/card-detail-template.html",scope:e,appendTo:".mainContainer",overlay:!0,className:"ngdialog-theme-default half-width"})},e.showDetailsinMain=function(a){e.detailOnly=!0,"string"==typeof a.card_features&&(a.card_features=JSON.parse(a.card_features)),e.data=a;i.open({template:"app/components/templates/card-detail-template.html",scope:e,appendTo:"#vSwiper",overlay:!0,className:"ngdialog-theme-default half-width ng-dialog-main-page"})},document.getElementById("homeCalculatorSlide")&&(document.getElementById("homeCalculatorSlide").addEventListener("wheel",o),document.getElementById("homeCalculatorSlide").addEventListener("mousewheel",o),document.getElementById("homeCalculatorSlide").addEventListener("DOMMouseScroll",o),document.getElementById("homeCalculatorSlide").getElementsByClassName("angucomplete-dropdown-calculator")[0].addEventListener("wheel",function(e){e.stopPropagation()}),document.getElementById("homeCalculatorSlide").getElementsByClassName("angucomplete-dropdown-calculator")[0].addEventListener("mousewheel",function(e){e.stopPropagation()}),document.getElementById("homeCalculatorSlide").getElementsByClassName("angucomplete-dropdown-calculator")[0].addEventListener("DOMMouseScroll",function(e){e.stopPropagation()}))}]),angular.module("kard").service("notifyUserService",["$http","$q","$rootScope","BASE_URL",function(e,a,t,r){function s(t){console.log(t);var s=a.defer(),n=r+"notify-user/",i={email:t};return e({method:"POST",url:n,data:i}).success(function(e){s.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),s.promise}return{notifyUser:s}}]),angular.module("kard").controller("KardAppDownloadController",["$scope","ngDialog","notifyUserService",function(e,a,t){e.notifyUser=function(r){e.apiWait=!1;var s=r.email;console.log(s),t.notifyUser(s).then(function(t){console.log(t.status),e.apiWait=!1,e.ngDialogMessage=t.data.message,1==t.status&&a.open({template:"app/components/templates/ng-dialog-template.html",scope:e,appendTo:"#main",overlay:!0})})}}]),angular.module("kard").service("forgotPasswordService",["$http","$q","$rootScope","BASE_URL",function(e,a,t,r){function s(t){console.log(t);var s=a.defer(),n=r+"forgot-password/",i={email:t.email};return e({method:"POST",url:n,data:i}).success(function(e){s.resolve(e)}.bind(this)).error(function(e){return angular.isObject(e.data)&&e.data.message?void 0:a.reject("An unknown error occurred.")}),s.promise}return{forgotPassword:s}}]),angular.module("kard").controller("forgotPasswordController",["$scope","forgotPasswordService","$state","ngDialog","$timeout",function(e,a,t,r){e.apiWait=!1,e.forgotPwdFunc=function(s){a.forgotPassword(s).then(function(a){console.log(a),e.apiWait=!1,0==a.status?e.errorMessage=a.data.error_message:1==a.status&&(r.open({template:"forgotPassword",plain:!1,overlay:!0}),t.go("login"))})}}]),angular.module("kard").run(["$templateCache",function(e){e.put("app/forgot-password/forgot-password.html",'<div id="wrap"><div id="main"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div><div class="clearfix"><div class="container"><div class="form-container col-sm-12"><div class="kard-form-wrapper"><div class="kard-form-item"><h3 class="text-center"><b>FORGOT PASSWORD</b></h3></div><hr><div class="kard-form-item"><form role="form" name="forgotPwdForm" novalidate=""><div class="form-group" ng-class="{ \'has-error\' : forgotPwdForm.email.$invalid && !forgotPwdForm.email.$pristine }"><label for="email">Email</label> <input class="form-control" type="email" ng-model="forgotPwd.email" placeholder="Email" name="email" id="email" required="" validate-email="" autofocus="" ng-focus="errorMessage = false; inputFocus = true" ng-blur="inputFocus = false"><p ng-show="forgotPwdForm.email.$touched && forgotPwdForm.email.$error.required" class="help-block text-error">Email is Required.</p><p ng-show="forgotPwdForm.email.$invalid && !forgotPwdForm.email.$error.required && !inputFocus" class="help-block">Please enter valid email</p><p class="text-error" ng-show="errorMessage">{{errorMessage}}</p><p class="help-block" ng-show="apiWait">Sending Reset Instructions!</p></div><button type="submit" class="kard-btn btn-block forgotPwd_btn" ng-disabled="forgotPwdForm.$invalid || apiWait" ng-click="forgotPwdFunc(forgotPwd); apiWait = true;">SUBMIT</button></form></div><hr></div></div></div></div></div></div></div><div ng-include="\'app/components/footer/footer.html\'" class="hidden-xs hidden-sm hidden-md"></div><script type="text/ng-template" id="forgotPassword"><div class="text-center"> <p>The password reset instructions are sent to your mail.</p> <p>Please check your inbox.</p> </div></script>'),e.put("app/kard-app-download/kard-app-download.html",'<div id="wrap"><div id="main"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="container download-app-container"><figure class="download-app-image"><img src="../assets/images/get_app_phone.png" alt="phone" class="img-responsive hidden-xs hidden-sm hidden-md"> <img src="../assets/responsive/get_the_app.png" alt="phone" class="img-responsive visible-xs visible-sm visible-md"></figure><div class="download-app-content"><article class="kard-form-wrapper"><h2>Get the app</h2><p>Just imagine, all the power of KARD while you\'re on the go!</p><p>Well have no fear, the KARD app is coming soon!</p><h3>Get notified</h3><p>Enter your email below and we will let you know when the KARD app is launching, and may even send you a BETA invite!</p><form role="form" name="notifyUserForm" novalidate="" class="kard-form-item"><div class="form-group floating-placeholder" ng-class="{ \'has-error\' : notifyUserForm.email.$invalid && !notifyUserForm.email.$pristine,\'floating-placeholder-float\': notifyUserForm.email.$dirty && !notifyUserForm.email.$error.required }"><label for="email">Email</label> <input type="email" ng-model="notifyUser.email" name="email" id="email" required="" validate-email=""><div class="kard-form-error" ng-show="notifyUserForm.email.$touched"><p ng-show="notifyUserForm.email.$invalid" class="help-block">Please enter valid email</p></div></div><p class="text-error" ng-show="errorMessage">{{errorMessage}}</p><button type="submit" class="kard-btn btn-block" ng-disabled="notifyUserForm.$invalid || apiWait" ng-click="notifyUser(notifyUser); apiWait = true;">SUBMIT</button></form></article></div></div></div></div><div ng-include="\'app/components/footer/footer.html\'" class="hidden-xs hidden-sm hidden-md"></div>'),e.put("app/kard-calculator/kard-calculator.html",'<div id="wrap"><div id="main"><div class="hedderContent text-center" ng-class="{\'home-calculator\': (currentState==\'home\')}"><div ng-include="\'app/components/navbar/navbar.html\'" ng-hide="(currentState==\'home\')"></div><h3 class="text-center">KARD CALCULATOR</h3><h6>Enter in wherever you\'re thinking of shopping to see which card to use to maximize your rewards</h6><h6></h6></div><div class="mainContainer"><div class="container kard-calculator-container"><div class="input-group kard-search"><angucomplete-alt id="calculateCard" placeholder="{{calculatorPlaceholder}}" pause="400" selected-object="selectedSite" search-fields="merchant_name" title-field="merchant_name" minlength="1" input-changed="inputChange" remote-api-handler="AutoFillWebsite" template-url="app/components/templates/kard-calculator-angucomplete.html" input-class="form-control form-control-small"><span class="input-group-btn" ng-click="enterKeyPress(selectedSite)"><button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button></span></angucomplete-alt></div><span class="fornav"><i class="icon-search"></i></span><div class="scrollme card-feature-container-scroll" scrollbar="{autoUpdate: true}" ng-class="{\'waiting\':apiWait}"><ul class="kard-feature-container-scroll"><div ng-hide="serverResponse" style="padding-top: 20px;text-align: center;"><p class="text-light">{{message}}</p></div><li class="kard-wallet-item" ng-repeat="card in cards" ng-show="serverResponse"><div class="media"><h4 class="media-heading" ng-click="showDetails({{card}});"><a href="">{{card.card_name}}</a></h4><div class="media-left media-middle"><img ng-click="showDetails({{card}});" class="media-object img-responsive" ng-src="{{card.card_image.length > 0 && card.card_image || \'../assets/images/dummy_card.png\'}}" alt="{{card.card_name}}"></div><div class="media-body"><ul class="feature-sub"><li class="bonus-offer-badge">{{card.card_text}}</li><li ng-if="card.bonus_rewards"><a href="{{card.bonus_rewards_link}}">{{card.bonus_rewards_link}}</a></li></ul></div></div></li></ul></div></div></div></div></div>'),e.put("app/kard-cat-select/kard-cat-select.html",'<div id="wrap"><div id="main"><div class="hedderContent text-center" ng-if="!primary_card_check"><div ng-include="\'app/components/navbar/navbar.html\'"></div><h3 class="text-center">Tell us what cards you own</h3><h6 class="show-subheading">Select all the cards that you own and KARD will tell you which credit cards</h6><h6 class="show-subheading">gives you the most points for each purchase.</h6></div><div class="hedderContent text-center" ng-if="primary_card_check"><div ng-include="\'app/components/navbar/navbar.html\'"></div><h3 class="text-center">Choose your primary card</h3></div><div class="mainContainer"><div class="container card-category-container"><section class="card-category"><angucomplete-alt id="ex1" placeholder="Search for your cards" pause="1000" selected-object="selectedCard" search-fields="card_name" title-field="card_name" image-field="card_image" in-wallet="in_wallet" primary-card="primary_card" minlength="1" clear-selected="true" input-changed="inputChange" remote-api-handler="searchAutoComplete" template-url="/my-custom-template.html" input-class="form-control form-control-small"></angucomplete-alt><h6 class="low-margin-bottom">Or, select from our comprehensive list of cards.</h6></section><ul class="card-categories-image" ng-class="{\'waiting\':apiWait}"><li ng-repeat="card in cardCategory" class="card-category-item" id="{{card.id}}"><a href="#/kards-list/{{card.id}}"></a></li></ul></div></div></div></div><script type="text/ng-template" id="selectTemplate"><div class="text-center"> <div class="media"> <div class="media-left media-middle"> <img class="media-object" ng-src="{{data.card_image}}" alt="{{data.card_name}}"> </div> <div class="media-body"> <h2>{{data.card_name}}</h2> <p>Rating: {{data.card_rating}}</p> <p>{{data.credit_needed}}</p> <p>Annual Fee: {{data.annual_fee}}</p> <p>{{data.card_features}}</p> <a class="kard-btn" ng-click="addToWallet({{data.id}})">Add to my KARD wallet</a> </div> </div> </div></script><script type="text/ng-template" id="successTemplate"><div class="text-center"> <p>{{message}}</p> <p><b>Name: </b> {{name_of_card_added}}</p> </div></script><script type="text/ng-template" id="/my-custom-template.html"><div class="angucomplete-holder " ng-class="{\'angucomplete-dropdown-visible\': showDropdown}"> <input ng-model="searchStr" ng-disabled="disableInput" type="text" placeholder="{{placeholder}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/> <div class="angucomplete-dropdown" ng-show="showDropdown"> <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div> <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div> <div class="angucomplete-row" ng-repeat="result in results" ng-mouseenter="hoverRow($index)" ng-click="selectResult(result,$event)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}"> <div ng-if="imageField" class="angucomplete-image-holder" ng-click="selectResult(result,$event)"> <img ng-src="{{result.image.length>0 &&result.image ||\'../assets/images/dummy_card.png\'}}" class="angucomplete-image" alt="{{result.image}}" /> <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div> </div> <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title" ></div> <div ng-if="!result.inWallet" class="addButton" title="Add Kard to Wallet" ng-click="addToWallet(result,$event)"> <button type="button" class="btn btn-success">+</button> </div> <div ng-if="result.inWallet && !result.primaryCard" class="addButton" title="Remove from Kard Wallet" ng-click="removeFromWallet(result,$event)"> <button type="button" class="btn btn-danger">-</button> </div> <div class="angucomplete-title" ng-if="!matchClass" ng-click="selectResult(result,$event)">{{ result.title }}</div> <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div> <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div> </div> </div> </div> </div></script>'),e.put("app/kard-detail/kard-detail.html",'<div id="wrap"><div id="main"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="container card-detail"><div class="row text-center"><h3>KARD DETAIL</h3></div><div class="row"><div class="col-md-6 column"><img class="pull-left" ng-src="assets/images/{{data.logo}}" alt="alt"></div><div class="col-md-6 column"><h3>{{data.card_name}}</h3><p>{{data.annual_fee}}</p><p><a ng-href="{{data.url}}">{{data.card_name}}</a></p></div><div class="col-md-12"><a ng-click="goBack()"><input class="btn btn-primary pull-right" type="button" value="BACK"></a> <a class="btn btn-primary pull-right" type="button" style="margin-right:30px;" ng-click="addToWallet(data.id)">Add to wallet</a></div></div><hr></div></div></div><script type="text/ng-template" id="successTemplate"><div class="text-center"> <p>{{message}}</p> </div></script>'),e.put("app/kard-wallet/kard-wallet.html",'<div id="wrap"><div id="main"><div class="hedderContent text-center"><div ng-include="\'app/components/navbar/navbar.html\'"></div><h3 class="text-center">KARD WALLET</h3><h6>Collection of your cards</h6><ul class="kard-add-more-kards kard-add-more-kards-sm"><li class="kard-add-more-kards"><p ng-hide="noCards">Have more cards to add to your <b>KARD</b> wallet?</p><p ng-show="noCards">Click yes to start adding your cards to your wallet.</p><a class="kard-btn kard-btn-sm" href="#/kard-cat-select">YES</a> <a class="kard-btn kard-btn-sm kard-btn-negative" ng-click="setPrimaryCardcheck()">NO</a></li></ul></div><div class="mainContainer"><div class="container"><div class="scrollme card-feature-container-scroll" scrollbar="{autoUpdate: true}" ng-class="{\'waiting\':apiWait}" id="kardWalletScrollbar"><ul class="kard-feature-container-scroll"><li ng-show="!cards.length" class="kard-add-more-kards" style="border:none;"><p class="text-center">You have no cards present in your wallet</p></li><li ng-repeat="card in cards" class="kard-wallet-item kard-wallet-toggle" ng-class="{\'open\': card.isOpen}"><div class="media"><h4 class="media-heading" ng-click="showDetails(card);"><a href="">{{card.card_name}}</a></h4><div class="media-left media-middle"><img ng-click="showDetails(card);" class="media-object img-responsive" ng-src="{{card.card_image.length > 0 && card.card_image || \'../assets/images/dummy_card.png\'}}" alt="{{card.card_name}}"></div><div class="media-body"><h4 class="media-heading-xs" ng-click="card.isOpen = !card.isOpen"><a href="">{{card.card_name}}</a></h4><ul class="feature-sub card-feature-list"><li ng-repeat="feature in card.card_features">&middot;&nbsp;&nbsp;{{feature}}</li></ul><button class="kard-btn kard-btn-xs" ng-if="primary_card_id !== card.id" ng-click="confirmSetAsPrimaryCard(card.id)">Set as primary card</button> <button class="kard-btn kard-btn-xs kard-btn-assertive" ng-if="primary_card_id !== card.id" ng-click="removeFromWalletConfirm(card.id)" ng-show="setPrimaryCard">Remove</button><p class="kard-badge" ng-if="primary_card_id === card.id">Primary card</p></div></div></li></ul></div><ul class="kard-add-more-kards kard-add-more-kards-md"><li class="kard-add-more-kards"><p ng-hide="noCards">Do you have more cards to add to your wallet?</p><p ng-show="noCards">Click \'YES\' to start adding your cards to the wallet.</p><a class="kard-btn kard-btn-sm" href="#/kard-cat-select">YES</a> <a class="kard-btn kard-btn-sm kard-btn-negative" ng-click="setPrimaryCardcheck()">NO</a></li></ul></div></div></div></div><script type="text/ng-template" id="showTrnsnTemplate"><div class="text-center"> <p>Youre on the way to earning hundreds of dollars worth of rewards a year !</p> <p>Keep shopping the way you always have and </p> <h4><b>KARD </b></h4> <p>will tell you, in realtime , which of your cards gives you the most points for each purchase</p> </div></script>'),e.put("app/kards-list/kards-list.html",'<div id="wrap"><div id="main"><div class="hedderContent text-center"><div ng-include="\'app/components/navbar/navbar.html\'"></div><h3 class="text-center">Tell us what cards you own</h3><h6 class="capitalized show-subheading"><a href="#/kard-cat-select" class="go-back-btn">KARD List</a>- {{kardType}}</h6></div><div class="mainContainer"><div class="container"><div class="kard-search-input"><input ng-model="cardName" type="text" class="form-control" placeholder="Search for your cards"></div><div class="card-list-container-scroll" scrollbar="{autoUpdate: true}" ng-class="{\'waiting\':apiWait}"><ul class="kard-list-container-scroll"><li ng-repeat="card in cards | startsWithLetter:cardName" class="kard-wallet-item"><div class="media"><h4 class="media-heading" ng-click="confirmAddToWallet({{card}});"><a href="">{{card.card_name}}</a></h4><div class="media-left media-middle"><img ng-click="showDetails({{card}});" class="media-object img-responsive" ng-src="{{card.card_image.length > 0 && card.card_image || \'../assets/images/dummy_card.png\'}}" alt="{{card.card_name}}"></div><div class="media-body"><ul class="feature-sub card-feature-list"><li ng-repeat="feature in card.card_features">&middot;&nbsp;&nbsp;{{feature}}</li></ul><a ng-if="!card.in_wallet" class="kard-btn kard-btn-xs" ng-click="confirmAddToWallet({{card}});">Add to KARD wallet</a> <a ng-if="card.in_wallet && !card.primary_card" class="kard-btn kard-btn-xs kard-btn-assertive" ng-click="removeFromWalletConfirm(card.id);">Remove from KARD wallet</a> <a ng-if="card.primary_card" class="kard-badge" data-toggle="tooltip" title="Primary card can\'t be removed!">Primary card</a></div></div></li></ul></div></div></div></div></div><script type="text/ng-template" id="successTemplate"><div class="text-center"> <p>{{message}}</p> <p><b>Name: </b> {{name_of_card_added}}</p> </div></script>'),e.put("app/kards-list/n.html","saduhfg zjhdbcf jasdbfjk hbasdkjfh kasjd kjsdhbf jkhb<h1>asf asdf</h1>"),e.put("app/login/login.html",'<div id="wrap"><div id="main"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="clearfix"><div class="container"><div class="form-container col-sm-12"><div class="kard-form-wrapper"><div class="kard-form-item"><h3 class="text-center"><b>LOGIN</b></h3></div><hr><div class="kard-form-item"><button class="kard-btn kard-fb" ng-click="loginFB(); emailFocused = true"><i class="icon-facebook"></i> <b>Login</b> with <b>Facebook</b></button></div><div class="text-center hr-alternative hr"><span>Or use email</span></div><div class="kard-form-item text-center"><form role="form" name="loginForm" novalidate=""><div class="form-group floating-placeholder" ng-class="{ \'has-error\' : loginForm.email.$invalid && !loginForm.email.$pristine,\'floating-placeholder-float\': loginForm.email.$dirty && !loginForm.email.$error.required || emailFocused }"><label for="email">Email:</label> <input focus-if="!smallDevice" focus-delay="500" ng-focus="emailFocused = true" ng-blur="emailFocused = false" class="" type="email" id="email" validate-email="" ng-model="login.email" name="email" required=""><div class="kard-form-error" ng-show="loginForm.email.$touched && !emailFocused"><p ng-show="loginForm.email.$error.required" class="help-block">Email is required.</p><p ng-show="loginForm.email.$invalid && !loginForm.email.$error.required" class="help-block">Please enter a valid email</p></div></div><div class="form-group floating-placeholder no-b-margin" ng-class="{ \'has-error\' : loginForm.password.$invalid && !loginForm.password.$pristine ,\'floating-placeholder-float\': loginForm.password.$dirty && !loginForm.password.$error.required|| pwdFocused}"><label for="password">Password:</label><div class="show-hide-pwd"><input ng-focus="pwdFocused = true" ng-blur="pwdFocused = false" type="password" class="" id="password" ng-model="login.password" name="password" required=""></div><div class="kard-form-error" ng-show="loginForm.password.$touched && !pwdFocused && !loginForm.password.$pristine"><p ng-show="loginForm.password.$error.required" class="help-block">Password is Required.</p></div></div><p class="text-error" ng-show="loginError">{{message}}</p><button type="submit" class="kard-btn btn-block login_btn" ng-disabled="loginForm.$invalid" ng-click="loginFunc(login)">Login</button></form><p><a href="#/forgot-password" class="kard-link small-sized-font">Forgot Password?</a></p></div><hr><div class="kard-form-item text-center"><p>New to KARD? <a href="#/signup" class="kard-link">Sign Up</a></p></div></div></div></div></div></div></div><div ng-include="\'app/components/footer/footer.html\'" class="hidden-xs hidden-sm hidden-md"></div><script>\n        function preventBack(){window.history.forward();}\n        setTimeout("preventBack()", 0);\n        window.onunload=function(){null};\n</script>'),e.put("app/main/main.html",'<section class="slider-wrapper" ng-class="{\'waiting\':waitingData}"><div id="vSwiper" class="swiper-container swiper-container-v"><div id="wrap" class="swiper-wrapper"><div ng-if="smallDevice" class="kard-navbar" ng-include="\'app/components/navbar/navbar.html\'"></div><div class="swiper-slide"><div class="swiper-container swiper-container-h"><div ng-if="!smallDevice" class="kard-navbar" ng-include="\'app/components/navbar/navbar.html\'"></div><div class="swiper-wrapper"><div id="slide-4" class="swiper-slide"><div class="slide-content"><h1>Your reward points should be easy!</h1><p>But, they\'re not!</p><a ng-hide="loggedIn" href="#/signup" class="kard-btn">Signup for KARD</a> <a ng-show="loggedIn && isChrome &&!extensionInstalled" ng-click="installExtension();" class="kard-btn">Install for chrome</a></div></div><div class="swiper-slide" id="slide-2"><div class="slide-content"><h1 style="margin-bottom: 5px;">Know the best</h1><h1 style="margin-bottom: 5px;">card for you,</h1><h1 style="margin-bottom: 5px;">In realtime!</h1><p>Save time and earn more rewards.</p><a ng-hide="loggedIn" href="#/signup" class="kard-btn">Signup for KARD</a> <a ng-show="loggedIn && isChrome &&!extensionInstalled" ng-click="installExtension();" class="kard-btn">Install for chrome</a></div></div><div class="swiper-slide" id="slide-1"><div class="slide-content"><h1>Everyday you shop without card, you are missing out!</h1><p>The average KARD user can earn $1,000/year by taking KARD\'s advice.</p><a ng-hide="loggedIn" href="#/signup" class="kard-btn">Signup for KARD</a> <a ng-show="loggedIn && isChrome &&!extensionInstalled" ng-click="installExtension();" class="kard-btn">Install for chrome</a></div></div><div class="swiper-slide" id="slide-3"><div class="slide-content"><h1>COMPLETELY PRIVATE AND SECURE</h1><p>We don\'t take any personal credit card information.</p><a ng-hide="loggedIn" href="#/signup" class="kard-btn">Signup for KARD</a> <a ng-show="loggedIn && isChrome &&!extensionInstalled" ng-click="installExtension();" class="kard-btn">Install for chrome</a></div></div><div class="swiper-slide" id="slide-5"><div class="slide-content"><h1>SHOPPING ONLINE HAS NEVER BEEN SO REWARDING.</h1><p>Realtime. Points. Delivered.</p><a ng-hide="loggedIn" href="#/signup" class="kard-btn">Signup for KARD</a><a ng-show="loggedIn && isChrome &&!extensionInstalled" ng-click="installExtension();" class="kard-btn">Install for chrome</a></div></div></div><div class="swiper-pagination swiper-pagination-h"></div></div></div><div class="swiper-slide swiper-slide-content"><section class="kard-description"><article class="container"><h1>Maximize rewards while you shop online</h1><p class="col-sm-12 col-md-4">We buy a lot online: groceries, movie tickets, travel, clothes, gift cards etc.<br>Just keep shopping like you always have and let <b>KARD</b> tell you which one of credit card will maximize your points.<br><br>Quick. Easy. Rewards.</p><figure class="col-md-7 col-sm-12"><img class="img-responsive" src="assets/images/computer.jpg" alt="extension-demo"></figure></article></section><figure class="happy-users-stripe"><img src="assets/images/happy_users_stripe.png" alt="users"></figure></div><div class="swiper-slide home-calculator-slide" ng-controller="KardCalculatorController" ng-if="ActiveSession"><div class="hedderContent text-center" ng-class="{\'home-calculator\': (currentState==\'home\')}"><div ng-include="\'app/components/navbar/navbar.html\'" ng-hide="(currentState==\'home\')"></div><h3 class="text-center">KARD CALCULATOR</h3><h6>Enter in wherever you\'re thinking of shopping to see which card to use to maximize your rewards</h6><h6></h6></div><div class="mainContainer"><div id="homeCalculatorSlide" class="container"><div class="input-group kard-search"><angucomplete-alt id="calculateCard" placeholder="{{calculatorPlaceholder}}" pause="400" selected-object="selectedSite" search-fields="merchant_name" title-field="merchant_name" minlength="1" input-changed="inputChange" remote-api-handler="AutoFillWebsite" template-url="app/components/templates/kard-calculator-angucomplete.html" input-class="form-control form-control-small"><span class="input-group-btn" ng-click="enterKeyPress(selectedSite)"><button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button></span></angucomplete-alt></div><span class="fornav"><i class="icon-search"></i></span><div class="scrollme card-feature-container-scroll" scrollbar="{autoUpdate: true}" ng-class="{\'waiting\':apiWait}"><ul class="kard-feature-container-scroll"><li ng-hide="serverResponse" style="text-align: center;">{{message}}</li><li class="kard-repeat-item kard-wallet-item" ng-repeat="card in cards" ng-show="serverResponse"><div class="media"><h4 class="media-heading" ng-click="showDetailsinMain({{card}});"><a href="">{{card.card_name}}</a></h4><div class="media-left media-middle"><img ng-click="showDetailsinMain({{card}});" class="media-object img-responsive" ng-src="{{card.card_image.length > 0 && card.card_image || \'../assets/images/dummy_card.png\'}}" alt="{{card.card_name}}"></div><div class="media-body"><ul class="feature-sub"><li class="bonus-offer-badge">{{card.card_text}}</li><li ng-if="card.bonus_rewards"><a href="{{card.bonus_rewards_link}}">{{card.bonus_rewards_link}}</a></li></ul></div></div></li></ul></div></div></div></div><div class="swiper-slide hidden-xs hidden-sm hidden-md footer-slide" style="height: auto;"><div ng-include="\'app/components/footer/footer.html\'"></div></div></div><div class="swiper-pagination swiper-pagination-v"></div></div></section>'),e.put("app/profile/change-password.html",'<form role="form" name="changePasswordForm" novalidate="" class="profile-form"><div class="form-group" ng-class="{ \'has-error\' : changePasswordForm.current_pwd.$invalid && !changePasswordForm.current_pwd.$pristine }"><label for="current_pwd">Current Passsword</label> <input ng-focus="currPwdFocused = true; changePasswordForm.$setDirty" ng-blur="currPwdFocused = false" class="form-control" type="password" ng-model="changePwdData.current_pwd" placeholder="Current Password" name="current_pwd" required="" autocomplete="off"><p ng-show="changePasswordForm.current_pwd.$touched" class="help-block"><span ng-show="!currPwdFocused && changePasswordForm.current_pwd.$error.required">&nbsp;Please enter your current password</span></p></div><div class="form-group" ng-class="{ \'has-error\' : changePasswordForm.password1.$invalid && !changePasswordForm.password1.$pristine && changePasswordForm.current_pwd.length>0 }"><label for="password1">New Password</label> <input ng-focus="Pwd1Focused = true;" ng-blur="Pwd1Focused = false" class="form-control" type="password" ng-model="changePwdData.password1" placeholder="New Password" name="password1" ng-minlength="8" ng-pattern="/^[\\S]*$/" required="" autocomplete="off"><div class="help-block" ng-show="changePasswordForm.password1.$touched && !Pwd1Focused"><p ng-show="changePasswordForm.password1.$error.required" class="help-block">&nbsp; Please enter new password</p><p ng-show="changePasswordForm.password1.$error.pattern&&!changePasswordForm.password1.$error.minlength" class="help-block">White spaces are not allowed in password field</p><p ng-show="changePasswordForm.password1.$error.minlength" class="help-block">&nbsp;Password should be minimum 8 characters long</p></div></div><div class="form-group" ng-class="{ \'has-error\' : changePasswordForm.password2.$invalid && !changePasswordForm.password2.$pristine }"><label for="password2">Retype Password</label> <input ng-focus="Pwd2Focused = true;" ng-blur="Pwd2Focused = false" type="password" class="form-control" id="password2" ng-model="changePwdData.password2" name="password2" placeholder="Retype password" ng-minlength="8" ng-pattern="/^[\\S]*$/" required="" autocomplete="off"><div class="help-block" ng-show="changePasswordForm.password2.$touched && !Pwd2Focused"><span ng-show="changePasswordForm.password2.$viewValue !== changePasswordForm.password1.$viewValue && !changePasswordForm.password1.$error.required && !changePasswordForm.password2.$error.required" class="help-block">&nbsp;Passwords don\'t match</span></div><p class="text-error" ng-show="loginError && changePasswordForm.$pristine">{{message}}</p></div><div class="pull-right btn-wrapper"><button type="button" class="kard-btn kard-btn-sm" ng-disabled="changePasswordForm.$invalid || changePasswordForm.password2.$viewValue !== changePasswordForm.password1.$viewValue || apiWait" ng-click="changePassword(); apiWait = true;">Change Password</button> <a ng-href="#/profile/my-profile"><button type="button" class="kard-btn kard-btn-sm kard-btn-negative">Cancel</button></a></div></form>'),e.put("app/profile/profile.html",'<div id="wrap"><div id="main"><div class="hedderContent text-center"><div ng-include="\'app/components/navbar/navbar.html\'"></div><h3 class="text-center">PROFILE</h3></div><div class="mainContainer"><div id="profile-container" class="container" ng-class="{ \'waiting\' : showChangePasswordApiWait }"><div class="col-sm-3 col-xs-12"><ul class="aside-nav"><li><a ng-class="{\'active\':currentState==\'profile.my-profile\'}" ng-href="#/profile/my-profile">My Profile</a></li><li><a ng-class="{\'active\':currentState==\'profile.edit-profile\'}" ng-href="#/profile/edit-profile">Edit Profile</a></li><li ng-if="showChangePassword"><a ng-class="{\'active\':currentState==\'profile.change-password\'}" ng-href="#/profile/change-password">Change Password</a></li></ul></div><div class="col-sm-9 col-xs-12"><div ng-class="{\'waiting\':apiWait}" ui-view=""></div></div></div></div></div></div><div ng-include="\'app/components/footer/footer.html\'" class="hidden-xs hidden-sm hidden-md"></div>'),e.put("app/reset-password/reset-password.html",'<div id="wrap"><div id="main"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div><div class="clearfix"><div class="container"><div class="form-container col-sm-12"><div class="kard-form-wrapper"><div class="kard-form-item"><h3 class="text-center"><b>RESET PASSWORD</b></h3></div><hr><div class="kard-form-item"><form role="form" name="resetPwdForm" novalidate=""><div class="form-group" ng-class="{ \'has-error\' : resetPwdForm.resPassword1.$invalid && !resetPwdForm.resPassword1.$pristine }"><label for="resetPassword1">New Password</label> <input ng-minlength="8" class="form-control" type="password" ng-model="resetPwd.password" placeholder="New password" name="resPassword1" id="resPassword1" autofocus="" required=""><div ng-show="resetPwdForm.$submitted || resetPwdForm.resPassword1.$touched"><p ng-show="resetPwdForm.resPassword1.$error.required" class="help-block">Password is Required.</p><p ng-show="resetPwdForm.resPassword1.$error.minlength && !resetPwdForm.resPassword1.$error.required" class="help-block">Password should be minimum 8 characters long.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : resetPwdForm.resetPassword2.$invalid && !resetPwdForm.resetPassword2.$pristine }"><label for="resetPassword2">Confirm Password</label> <input type="password" class="form-control" id="resetPassword2" ng-model="resetPwd.password2" name="resetPassword2" placeholder="Retype password" required="" ng-minlength="8"><p ng-show="resetPwdForm.resetPassword2.$dirty"><span ng-hide="resetPwdForm.resetPassword2.$viewValue == resetPwdForm.resPassword1.$viewValue" class="help-block">Entered passwords does not match</span></p></div><p class="text-error" ng-show="errorMessage">{{errorMessage}}</p><button type="submit" class="kard-btn forgotPwd_btn" ng-disabled="resetPwdForm.$invalid || apiWait" ng-click="resetPwdFunc(resetPwd); apiWait = true;">Reset my password</button></form></div></div></div></div></div></div></div></div><div ng-include="\'app/components/footer/footer.html\'" class="hidden-xs hidden-sm hidden-md"></div><script type="text/ng-template" id="forgotPassword"><div class="text-center"> <p>The password reset instructions are sent to your mail.</p> <p>Please check your inbox.</p> </div></script>'),e.put("app/signup/signup.html",'<div id="wrap"><div id="main"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="clearfix"><div class="container"><div class="form-container col-sm-12"><section class="kard-form-wrapper signup-form-wrapper"><div class="kard-form-item"><h3 class="text-center"><b>SIGNUP</b></h3></div><hr ng-hide="completeOne"><div class="kard-form-item kard-form-item-text" ng-hide="completeOne"><p class="text-special">Sign Up to start maximizing rewards</p><div class="kard-form-item kard-form-item-signupFB"><button class="kard-btn kard-fb" ng-click="signupFB(); emailFocused = true"><i class="icon-facebook"></i> <b>Sign Up</b> with <b>Facebook</b></button></div><p>Whether it\'s miles, cash back, or reward points, KARD will help you make the most out of your credit cards in just two steps.</p></div><div class="text-center hr-alternative" ng-hide="completeOne"><span class="hr-alt-rounded part-active">1</span> <span class="hr-alt-rounded" ng-click="validateMail()" ng-disabled="(!signupForm.signupemail.$valid || !signupForm.signuppassword.$valid || !signupForm.repassword.$valid ) || (signupForm.signuppassword.$viewValue != signupForm.repassword.$viewValue)||!validMail">2</span></div><div class="kard-form-item kard-form-heading" ng-hide="completeOne"><p class="text-center">CREATE YOUR ACCOUNT</p></div><div class="text-center hr-alternative" ng-show="completeOne"><span class="hr-alt-rounded prev-part" ng-click="completeOne = false;">1</span> <span class="hr-alt-rounded part-active">2</span></div><div class="kard-form-item kard-form-heading" ng-show="completeOne"><p class="text-center">SETUP YOUR PROFILE</p></div><hr><form role="form" name="signupForm" novalidate=""><div class="kard-form-item" ng-hide="completeOne"><div class="form-part-wrapper"><div class="form-group floating-placeholder" ng-class="{ \'has-error\' : signupForm.signupemail.$invalid && !signupForm.signupemail.$pristine,\'floating-placeholder-float\': signupForm.signupemail.$dirty && !signupForm.signupemail.$error.required || emailFocused }"><label for="signupemail">Email</label> <input ng-focus="emailFocused = true; messageOne = \'\'; validMail = true" ng-blur="emailFocused = false" class="" type="email" id="email" validate-email="" ng-model="signup.email" name="signupemail" focus-if="!smallDevice" focus-delay="500" required=""><div class="kard-form-error" ng-show="signupForm.signupemail.$touched && !emailFocused"><p ng-show="signupForm.signupemail.$error.required" class="help-block">Email is required</p><p ng-show="signupForm.signupemail.$invalid &&!signupForm.signupemail.$error.required" class="help-block">Please enter valid email</p><p class="help-block text-error">{{messageOne}}</p></div></div><div class="form-group floating-placeholder" ng-class="{ \'has-error\' : signupForm.signuppassword.$invalid && !signupForm.signuppassword.$pristine,\'floating-placeholder-float\': signupForm.signuppassword.$dirty && !signupForm.signuppassword.$error.required || pwdFocused }"><label for="signuppassword">Password</label><div class="show-hide-pwd"><input ng-focus="pwdFocused = true" ng-blur="pwdFocused = false" type="password" class="" id="password" ng-model="signup.password" name="signuppassword" ng-pattern="/^[\\S]*$/" oncopy="return false" onpaste="return false" oncut="return false" required="" ng-minlength="8"></div><div class="kard-form-error" ng-show="(signupForm.signuppassword.$touched && !pwdFocused) || pwd2Focused"><p ng-show="signupForm.signuppassword.$error.required" class="help-block">Password is required</p><p ng-show="signupForm.signuppassword.$error.pattern&&!signupForm.signuppassword.$error.minlength" class="help-block">White spaces are not allowed in password field</p><p ng-show="signupForm.signuppassword.$error.minlength" class="help-block">Password should be minimum 8 characters long</p></div></div><div class="form-group floating-placeholder" ng-class="{ \'has-error\' : (signupForm.repassword.$invalid || signupForm.repassword.$viewValue !== signupForm.signuppassword.$viewValue) && !signupForm.repassword.$pristine,\'floating-placeholder-float\': signupForm.repassword.$dirty && !signupForm.repassword.$error.required || pwd2Focused}"><label for="repassword">Confirm Password</label><div class="show-hide-pwd"><input ng-focus="pwd2Focused = true; pwdFocused = false; signupForm.signuppassword.$touched = true;" ng-blur="pwd2Focused = false" type="password" class="" id="repassword" ng-model="signup.repassword" name="repassword" ng-minlength="8" ng-pattern="/^[\\S]*$/" oncopy="return false" onpaste="return false" oncut="return false" required=""></div><div class="kard-form-error" ng-show="signupForm.repassword.$touched && !pwd2Focused"><p ng-show="signupForm.repassword.$viewValue !== signupForm.signuppassword.$viewValue && !signupForm.repassword.$error.required && !signupForm.repassword.$error.minlength && !pwdFocused&& !signupForm.repassword.$error.pattern" class="help-block">Passwords don\'t match</p><p ng-show="signupForm.repassword.$error.required" class="help-block">Password is required</p><p ng-show="signupForm.repassword.$error.minlength" class="help-block">Password should be minimum 8 characters long</p><p ng-show="signupForm.repassword.$error.pattern&&!signupForm.repassword.$error.minlength" class="help-block">White spaces are not allowed in password field</p></div></div></div></div><div class="text-center hr-alternative" ng-hide="completeOne"><span type="button" class="hr-alt-rounded signup-next" ng-disabled="(!signupForm.signupemail.$valid || !signupForm.signuppassword.$valid || !signupForm.repassword.$valid ) || (signupForm.signuppassword.$viewValue != signupForm.repassword.$viewValue)" ng-click="validateMail()">&#9654;</span></div><div class="kard-form-item" ng-show="completeOne"><div class="form-part-wrapper"><div class="form-group floating-placeholder" ng-class="{ \'has-error\' : signupForm.fname.$invalid && !signupForm.fname.$pristine,\'floating-placeholder-float\': signupForm.fname.$dirty && !signupForm.fname.$error.required || fnameFocused}"><label for="fname">First Name</label> <input ng-focus="fnameFocused = true" ng-blur="fnameFocused = false" class="" type="text" id="fname" ng-model="signup.fname" name="fname" ng-pattern="/^([a-z]+[,\'-.]?[ ]?)+$/i" required="" maxlength="20"><div class="kard-form-error" ng-show="signupForm.fname.$touched && !fnameFocused"><p ng-show="signupForm.fname.$error.required" class="help-block">First Name is Required</p><p ng-show="signupForm.fname.$error.pattern" class="help-block">Invalid first name.</p></div></div><div class="form-group floating-placeholder" ng-class="{ \'has-error\' : signupForm.lname.$invalid && !signupForm.lname.$pristine,\'floating-placeholder-float\': signupForm.lname.$dirty && !signupForm.lname.$error.required || lnameFocused }"><label for="lname">Last Name</label> <input ng-focus="lnameFocused = true; signupForm.fname.$touched = true;" ng-blur="lnameFocused = false" class="" type="text" id="lname" ng-model="signup.lname" name="lname" required="" maxlength="20" ng-pattern="/^([a-z]+[,\'-.]?[ ]?)+$/i"><div class="kard-form-error" ng-show="signupForm.lname.$touched && !lnameFocused"><p ng-show="signupForm.lname.$error.required" class="help-block">Last Name is Required.</p><p ng-show="signupForm.lname.$error.pattern" class="help-block">Invalid last name.</p></div></div><div class="form-group radio-input" ng-class="{ \'has-error\' : signupForm.gender.$invalid && !signupForm.gender.$pristine }"><label class="pull-left" for="gender">Gender:</label><div class="signup-radio-ctrl"><input class="" type="radio" ng-model="signup.gender" name="gender" id="male" value="1"> <label for="male">Male</label></div><div class="signup-radio-ctrl"><input class="" type="radio" ng-model="signup.gender" name="gender" id="female" value="0"> <label for="female">Female</label></div></div><div class="form-group radio-input" ng-class="{ \'has-error\' : signupForm.age.$invalid && !signupForm.age.$pristine }"><label class="pull-left signup-age" for="age">Age:</label><div class="signup-radio-ctrl"><input class="" type="radio" ng-model="signup.age" name="age" id="lt20" value="0"> <label for="lt20">< 20</label></div><div class="signup-radio-ctrl"><input class="" type="radio" ng-model="signup.age" name="age" id="ut25" value="1"> <label for="ut25">20 - 25</label></div><div class="signup-radio-ctrl"><input class="" type="radio" ng-model="signup.age" name="age" id="ut30" value="2"> <label for="ut30">25 - 30</label></div><div class="signup-radio-ctrl"><input class="" type="radio" ng-model="signup.age" name="age" id="ut35" value="3"> <label for="ut35">30 - 35</label></div><div class="signup-radio-ctrl"><input class="" type="radio" ng-model="signup.age" name="age" id="gt35" value="4"> <label for="gt35">> 35</label></div></div><p class="text-error">{{message}}</p><button type="submit" class="kard-btn login_btn btn-block" ng-disabled="signupForm.$invalid || apiWait" ng-click="signupUser(); apiWait = true">Create your account</button></div></div></form></section></div></div></div></div></div><div ng-include="\'app/components/footer/footer.html\'" class="hidden-xs hidden-sm hidden-md"></div><script type="text/ng-template" id="privacyPolicyTemplate"></script>'),e.put("app/components/footer/footer.html",'<footer id="footer"><div class="row footer-container"><div class="col-sm-6"><p class="col-sm-4 col-md-4 col-xs-6">&copy; 2015 KARD</p><a class="col-sm-4 col-md-4 col-xs-6" href="#">Privacy Policy</a></div><div class="col-sm-6 hidden-xs"><ul class="kard-social-wrapper"><li><a class="kard-social kard-social-fb" href="http://www.facebook.com"></a></li><li><a class="kard-social kard-social-tw" href="http://www.twitter.com"></a></li><li><a class="kard-social kard-social-gp" href="http://www.plus.google.com"></a></li></ul></div></div></footer>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top" ng-controller="NavbarController" ng-class="{\'bg-trans\':(currentState==\'signup\'||currentState==\'login\'||currentState==\'home\'||currentState==\'forgot-password\')}"><div class="container"><div id="overlayCloseNav" ng-click="showMenuCheck();"></div><div class="col-xs-4 col-sm-4 col-md-4 col-md-push-0"><ul class="off-canvas-header"><li class="kard-menu kard-shaded" ng-class="{\'kard-shaded-green\':currentState==(\'forgot-password\'||\'signup\'||\'login\')}"><a class="kard-menu-icon" ng-click="showMenuCheck();" outside-click-handler=""><img ng-src="assets/images/menu_icon.png" alt="menu"></a></li><li><ul id="kardMenuItems" class="kard-menu-items" ng-show="showMenu"><li ng-class="{\'active\':currentState==\'home\'}"><a ng-href="#/home"><img ng-src="assets/responsive/home_icon.png" alt="Home" title="Home"> Home</a></li><li class="visible-xs visible-sm visible-md" ng-class="{\'active\':currentState==\'login\'}" ng-hide="loggedIn"><a ng-href="#/login"><img ng-src="assets/responsive/log_in.png" alt="Login" title="Login"> Login</a></li><li class="visible-xs visible-sm visible-md" ng-class="{\'active\':currentState==\'signup\'}" ng-hide="loggedIn"><a ng-href="#/signup"><img ng-src="assets/responsive/sign_up.png" alt="Signup" title="Signup"> Signup</a></li><li ng-class="{\'active\':currentState==\'kard-calculator\'}" ng-show="loggedIn"><a ng-href="#/kard-calculator"><img ng-src="assets/responsive/calculator.png" alt="Kard Calculator" title="Kard Calculator"> Kard Calculator</a></li><li ng-class="{\'active\':currentState==\'kard-wallet\'}" ng-show="loggedIn"><a ng-href="#/kard-wallet"><img ng-src="assets/responsive/wallet.png" alt="Kard Wallet" title="Kard Wallet"> Kard Wallet</a></li><li ng-class="{\'active\':currentState==\'kard-app-download\'}"><a ng-href="#/kard-app-download"><img ng-src="assets/responsive/down_load_app.png" alt="Download App" title="Download App"> Download App</a></li><li ng-class="{\'active\':currentState==\'profile.my-profile\'}" ng-show="loggedIn"><a ng-href="#/profile/my-profile"><img ng-src="assets/responsive/profile.png" alt="My Profile" title="My Profile"> My profile</a></li><li ng-class="{\'active\':currentState==\'logout\'}" ng-show="loggedIn"><a ng-href="#/logout"><img ng-src="assets/responsive/log_out.png" alt="Logout" title="Logout"> Logout</a></li></ul></li></ul></div><div class="col-xs-4 col-sm-4 col-md-4 text-center kard-logo"><a href="/#/home"><img ng-src="assets/images/logo_white.png" alt="KARD" ng-hide="currentState==\'forgot-password\'||currentState==\'signup\'||currentState==\'login\'"> <img ng-src="assets/images/logo_green.png" alt="KARD" ng-show="currentState==\'forgot-password\'||currentState==\'signup\'||currentState==\'login\'"></a></div><div class="hidden-xs hidden-sm hidden-md col-md-4 col-md-pull-0 text-center kard-nav-right" ng-show="currentState==\'home\'"><ul class="nav navbar-right"><li ng-show="loggedIn" class="kard-shaded"><p>Welcome {{userName}}</p></li><li class="kard-shaded" ng-class="{\'active\':currentState==\'login\'}" ng-hide="loggedIn"><a ng-href="#/login" class="navbar-item-divider">Login</a></li><li class="kard-shaded" ng-class="{\'active\':currentState==\'signup\'}" ng-hide="loggedIn"><a ng-href="#/signup">Signup</a></li></ul></div></div></nav>'),e.put("app/components/templates/card-detail-template.html",'<div class="text-center card-detail-dialog"><div class="media"><h2>{{data.card_name}}</h2><div class="media-left media-middle"><img class="media-object" ng-src="{{data.card_image.length > 0 && data.card_image || \'../assets/images/dummy_card.png\'}}" alt="{{data.card_name}}"> <a ng-if="!data.in_wallet" class="kard-btn kard-btn-xs" ng-click=\'addToWallet({{data.id}},"{{data.card_name}}"); apiWait = true;\' ng-hide="detailOnly">Add to KARD wallet</a> <a ng-if="data.in_wallet && !data.primary_card" class="kard-btn kard-btn-xs kard-btn-assertive" ng-click=\'removeFromWallet({{data.id}},"{{data.card_name}}""); apiWait = true;\' ng-hide="detailOnly">Remove from wallet</a> <a ng-if="data.primary_card" class="kard-badge badge-ngdialog">This is your Primary card</a></div><div class="media-body"><ul class="feature-sub card-feature-list"><li ng-repeat="feature in data.card_features">&middot;&nbsp;&nbsp;{{feature}}</li></ul></div><div class="col-sm-12 card-feature-table"><table class="table table-bordered"><thead><tr><th>EMV</th><th>Annual Fee</th><th>Foreign Transaction Fee</th><th>APR</th></tr></thead><tbody><tr><td>{{data.emv}}</td><td>{{data.annual_fee}}</td><td>{{data.foreign_transaction_fee}}</td><td>{{data.apr}}</td></tr></tbody></table></div></div></div>'),e.put("app/components/templates/confirm-set-as-primaryCard.html",'<div class="primary-card-pop text-center"><p ng-if="setPrimaryCard">Are you sure to change your primary card?</p><p ng-if="!setPrimaryCard">Are you sure to add this as your primary card?</p><button ng-disabled="apiWait" class="kard-btn kard-btn-sm" ng-click="setAsPrimaryCard(ngDialogData); apiWait = true;">Yes</button><button class="kard-btn kard-btn-sm kard-btn-negative" ng-click="closeThisDialog(\'value\')">No</button></div>'),e.put("app/components/templates/install-extension-pop.html",'<div class="primary-card-pop install-extension-pop text-center"><h3>INSTALL KARD EXTENSION</h3><p>Installing KARD extension helps you to get</p><p>realtime information of rewards points on your cards.</p><a class="kard-btn kard-btn-xs" target="_blank" ng-click="installExtension()">INSTALL KARD EXTENSION</a> <button class="kard-btn kard-btn-xs kard-btn-negative" ng-click="closeThisDialog(\'value\')">Later&#33;</button></div>'),e.put("app/components/templates/kard-calculator-angucomplete.html",'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}"><input ng-model="searchStr" ng-disabled="disableInput" type="text" placeholder="{{placeholder}}" ng-focus="onFocusHandler()" class="{{inputClass}}" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"><div class="angucomplete-dropdown angucomplete-dropdown-calculator" ng-show="showDropdown"><div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div><div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div><div class="angucomplete-row" ng-repeat="result in results" ng-mouseenter="hoverRow($index)" ng-click="selectResult(result,$event)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}"><div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div><div class="angucomplete-title" ng-if="!matchClass" ng-click="selectResult(result,$event)">{{ result.title }}</div></div></div></div>'),e.put("app/components/templates/ng-dialog-template.html",'<div class="text-center"><p>{{ngDialogMessage}}</p></div>'),e.put("app/components/templates/ng-primary-card-pop.html",'<div class="primary-card-pop text-center"><h3>PLEASE SELECT YOUR PRIMARY CARD</h3><p>What is a primary card?</p><p>It\'s your go-to card. The one you use most often. We all have one. Kard will default to your primary card and only send you a notification when another card in your wallet offers better rewards.</p><p>Don\'t worry! You will be able to change your primary card at any time.</p><button class="kard-btn btn-block" ng-click="closeThisDialog(\'Some value\')">Select my primary card</button></div>'),e.put("app/components/templates/remove-from-wallet-confirm.html",'<div class="primary-card-pop text-center"><p>Are you sure to remove the card from wallet?</p><button class="kard-btn kard-btn-sm" ng-click="removeCard(ngDialogData)">Yes</button><button class="kard-btn kard-btn-sm kard-btn-negative" ng-click="closeThisDialog(\'value\')">No</button></div>'),e.put("app/profile/my-profile/edit-profile.html",'<form role="form" name="editProfileForm" novalidate="" class="profile-form"><div class="form-group" ng-class="{ \'has-error\' : editProfileForm.first_name.$invalid && !editProfileForm.first_name.$pristine }"><label for="first_name">First Name</label> <input ng-focus="firstNameFocused = true;" ng-blur="firstNameFocused = false" class="form-control" type="text" ng-model="profileData.first_name" placeholder="First Name" name="first_name" maxlength="20" required=""><p ng-show="editProfileForm.first_name.$invalid && !editProfileForm.first_name.$pristine && !firstNameFocused" class="help-block">First Name is Required.</p></div><div class="form-group" ng-class="{ \'has-error\' : editProfileForm.last_name.$invalid && !editProfileForm.last_name.$pristine }"><label for="last_name">Last Name</label> <input ng-focus="lastNameFocused = true;" ng-blur="lastNameFocused = false" class="form-control" type="text" ng-model="profileData.last_name" placeholder="Last Name" name="last_name" maxlength="20" required=""><p ng-show="editProfileForm.last_name.$invalid && !editProfileForm.last_name.$pristine && !lastNameFocused" class="help-block">Last Name is Required.</p></div><div class="form-group checkbox" ng-class="{ \'has-error\' : editProfileForm.gender.$invalid && !editProfileForm.gender.$pristine }"><p>Gender</p><div class="profile-group"><div class="profile-checkbox-ctrl"><input class="" id="male" type="radio" ng-model="profileData.genderVal" name="gender" value="1"> <label for="male">Male</label></div><div class="profile-checkbox-ctrl"><input class="" id="female" type="radio" ng-model="profileData.genderVal" name="gender" value="0"> <label for="female">Female</label></div></div></div><div class="form-group checkbox" ng-class="{ \'has-error\' : editProfileForm.age.$invalid && !editProfileForm.age.$pristine }"><p>Age</p><div class="profile-group"><div class="profile-checkbox-ctrl"><input class="" type="radio" ng-model="profileData.ageVal" name="age" id="lt20" value="0"> <label for="lt20">< 20</label></div><div class="profile-checkbox-ctrl"><input class="" type="radio" ng-model="profileData.ageVal" name="age" id="ut25" value="1"> <label for="ut25">20 - 25</label></div><div class="profile-checkbox-ctrl"><input class="" type="radio" ng-model="profileData.ageVal" name="age" id="ut30" value="2"> <label for="ut30">25 - 30</label></div><div class="profile-checkbox-ctrl"><input class="" type="radio" ng-model="profileData.ageVal" name="age" id="ut35" value="3"> <label for="ut35">30 - 35</label></div><div class="profile-checkbox-ctrl"><input class="" type="radio" ng-model="profileData.ageVal" name="age" id="gt35" value="4"> <label for="gt35">> 35</label></div></div></div><div class="pull-right btn-wrapper"><button type="submit" class="kard-btn kard-btn-sm" ng-disabled="editProfileForm.$invalid || apiWait || editProfileForm.$pristine" ng-click="updateProfile($event); apiWait = true;">Save</button> <a ng-href="#/profile/my-profile"><button type="button" class="kard-btn kard-btn-sm kard-btn-negative">Cancel</button></a></div></form>'),e.put("app/profile/my-profile/my-profile.html","<table><tr><td>First Name</td><td>{{data.first_name}}</td></tr><tr><td>Last Name</td><td>{{data.last_name}}</td></tr><tr><td>Email</td><td>{{data.email}}</td></tr><tr><td>Age</td><td>{{data.age}}</td></tr><tr><td>Gender</td><td>{{data.gender}}</td></tr></table>")
}]);